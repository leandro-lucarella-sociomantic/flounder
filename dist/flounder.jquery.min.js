/*! Flounder v1.0.1 | (c) 2015-2016 Sociomantic Labs | https://github.com/sociomantic-tsunami/flounder/license */
!function e(t,n,r){function i(a,o){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!o&&l)return l(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";function r(){if(l.length)throw l.shift()}function i(e){var t;t=o.length?o.pop():new s,t.task=e,a(t)}function s(){this.task=null}var a=e("./raw"),o=[],l=[],u=a.makeRequestCallFromTimer(r);t.exports=i,s.prototype.call=function(){try{this.task.call()}catch(e){i.onerror?i.onerror(e):(l.push(e),u())}finally{this.task=null,o[o.length]=this}}},{"./raw":2}],2:[function(e,t,n){(function(e){"use strict";function n(e){o.length||(a(),l=!0),o[o.length]=e}function r(){for(;u<o.length;){var e=u;if(u+=1,o[e].call(),u>c){for(var t=0,n=o.length-u;t<n;t++)o[t]=o[t+u];o.length-=u,u=0}}o.length=0,u=0,l=!1}function i(e){var t=1,n=new d(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}function s(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}t.exports=n;var a,o=[],l=!1,u=0,c=1024,d=e.MutationObserver||e.WebKitMutationObserver;a="function"==typeof d?i(r):s(r),n.requestFlush=a,n.makeRequestCallFromTimer=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){t.exports=function(t){"use strict";var n=e("promise");t.http=function(e){var t,r,i,s,a,o,l,u;if(!e)return new Error("No parameters given");if("string"==typeof e&&(e={url:e}),t=new XMLHttpRequest,r=e.method||"GET",i=e.url,s=JSON.stringify(e.data)||null,a=e.user||"",o=e.password||"",l=e.headers||null,u="boolean"!=typeof e.async||e.async,t.onreadystatechange=function(){if(4===t.readyState)return t},t.open(r,i,u,a,o),"POST"===r&&t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l)for(var c in l)t.setRequestHeader(c,l[c]);if(u)return new n(function(e,n){t.onerror=function(){n(new Error("Network error!"))},t.send(s),t.onload=function(){200===t.status?e(t.response):n(new Error(t.status))}});var d=function(e){var t={then:function(n){return 200===e.status&&n(e.responseText),t},"catch":function(n){return 200!==e.status&&n({status:e.status,statusText:e.statusText}),t}};return t};return t.send(s),t.onloadend=function(){return t.onreadystatechange(),d(t)},t.onloadend()},t.http.get=function(e){return this({url:e,method:"GET"})},t.http.post=function(e,t){return this({url:e,data:t,method:"POST"})}}},{promise:4}],4:[function(e,t,n){"use strict";t.exports=e("./lib")},{"./lib":9}],5:[function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(t){return m=t,y}}function s(e,t){try{return e(t)}catch(n){return m=n,y}}function a(e,t,n){try{e(t,n)}catch(r){return m=r,y}}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,e!==r&&v(e,this)}function l(e,t,n){return new e.constructor(function(i,s){var a=new o(r);a.then(i,s),u(e,new p(t,n,a))})}function u(e,t){for(;3===e._81;)e=e._65;return o._10&&o._10(e),0===e._81?0===e._45?(e._45=1,void(e._54=t)):1===e._45?(e._45=2,void(e._54=[e._54,t])):void e._54.push(t):void c(e,t)}function c(e,t){g(function(){var n=1===e._81?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._81?d(t.promise,e._65):f(t.promise,e._65));var r=s(n,e._65);r===y?f(t.promise,m):d(t.promise,r)})}function d(e,t){if(t===e)return f(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=i(t);if(n===y)return f(e,m);if(n===e.then&&t instanceof o)return e._81=3,e._65=t,void h(e);if("function"==typeof n)return void v(n.bind(t),e)}e._81=1,e._65=t,h(e)}function f(e,t){e._81=2,e._65=t,o._97&&o._97(e,t),h(e)}function h(e){if(1===e._45&&(u(e,e._54),e._54=null),2===e._45){for(var t=0;t<e._54.length;t++)u(e,e._54[t]);e._54=null}}function p(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function v(e,t){var n=!1,r=a(e,function(e){n||(n=!0,d(t,e))},function(e){n||(n=!0,f(t,e))});n||r!==y||(n=!0,f(t,m))}var g=e("asap/raw"),m=null,y={};t.exports=o,o._10=null,o._97=null,o._61=r,o.prototype.then=function(e,t){if(this.constructor!==o)return l(this,e,t);var n=new o(r);return u(this,new p(e,t,n)),n}},{"asap/raw":2}],6:[function(e,t,n){"use strict";var r=e("./core.js");t.exports=r,r.prototype.done=function(e,t){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(e){setTimeout(function(){throw e},0)})}},{"./core.js":5}],7:[function(e,t,n){"use strict";function r(e){var t=new i(i._61);return t._81=1,t._65=e,t}var i=e("./core.js");t.exports=i;var s=r(!0),a=r(!1),o=r(null),l=r(void 0),u=r(0),c=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return o;if(void 0===e)return l;if(e===!0)return s;if(e===!1)return a;if(0===e)return u;if(""===e)return c;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new i(t.bind(e))}catch(n){return new i(function(e,t){t(n)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(a,o){if(o&&("object"==typeof o||"function"==typeof o)){if(o instanceof i&&o.then===i.prototype.then){for(;3===o._81;)o=o._65;return 1===o._81?r(a,o._65):(2===o._81&&n(o._65),void o.then(function(e){r(a,e)},n))}var l=o.then;if("function"==typeof l){var u=new i(l.bind(o));return void u.then(function(e){r(a,e)},n)}}t[a]=o,0===--s&&e(t)}if(0===t.length)return e([]);for(var s=t.length,a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype["catch"]=function(e){return this.then(null,e)}},{"./core.js":5}],8:[function(e,t,n){"use strict";var r=e("./core.js");t.exports=r,r.prototype["finally"]=function(e){return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})})}},{"./core.js":5}],9:[function(e,t,n){"use strict";t.exports=e("./core.js"),e("./done.js"),e("./finally.js"),e("./es6-extensions.js"),e("./node-extensions.js"),e("./synchronous.js")},{"./core.js":5,"./done.js":6,"./es6-extensions.js":7,"./finally.js":8,"./node-extensions.js":10,"./synchronous.js":11}],10:[function(e,t,n){"use strict";function r(e,t){for(var n=[],r=0;r<t;r++)n.push("a"+r);var i=["return function ("+n.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(n).concat([o]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],i)(s,e)}function i(e){for(var t=Math.max(e.length-1,3),n=[],r=0;r<t;r++)n.push("a"+r);var i=["return function ("+n.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+t+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+o+";","var res;","switch (argLength) {",n.concat(["extra"]).map(function(e,t){return"case "+t+":res = fn.call("+["self"].concat(n.slice(0,t)).concat("cb").join(",")+");break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],i)(s,e)}var s=e("./core.js"),a=e("asap");t.exports=s,s.denodeify=function(e,t){return"number"==typeof t&&t!==1/0?r(e,t):i(e)};var o="function (err, res) {if (err) { rj(err); } else { rs(res); }}";s.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),n="function"==typeof t[t.length-1]?t.pop():null,r=this;try{return e.apply(this,arguments).nodeify(n,r)}catch(i){if(null===n||"undefined"==typeof n)return new s(function(e,t){t(i)});a(function(){n.call(r,i)})}}},s.prototype.nodeify=function(e,t){return"function"!=typeof e?this:void this.then(function(n){a(function(){e.call(t,null,n)})},function(n){a(function(){e.call(t,n)})})}},{"./core.js":5,asap:1}],11:[function(e,t,n){"use strict";var r=e("./core.js");t.exports=r,r.enableSynchronous=function(){r.prototype.isPending=function(){return 0==this.getState()},r.prototype.isFulfilled=function(){return 1==this.getState()},r.prototype.isRejected=function(){return 2==this.getState()},r.prototype.getValue=function(){if(3===this._81)return this._65.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._65},r.prototype.getReason=function(){if(3===this._81)return this._65.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._65},r.prototype.getState=function(){return 3===this._81?this._65.getState():this._81===-1||this._81===-2?0:this._81}},r.disableSynchronous=function(){r.prototype.isPending=void 0,r.prototype.isFulfilled=void 0,r.prototype.isRejected=void 0,r.prototype.getValue=void 0,r.prototype.getReason=void 0,r.prototype.getState=void 0}},{"./core.js":5}],12:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=e("./classes"),o=r(a),l=e("./utils"),u=r(l),c=e("./defaults"),d=Array.prototype.slice,f={buildFromUrl:function(e,t){var n=this;return this.loadDataFromUrl(e,function(e){n.data=e,t&&t(n.data),n.rebuild(n.data)}),[]},clickByIndex:function(e,t){return this.setByIndex(e,t,!1)},clickByText:function(e,t){return this.setByText(e,t,!1)},clickByValue:function(e,t){return this.setByValue(e,t,!1)},destroy:function(){this.componentWillUnmount();var e=this.refs,t=this.originalTarget,n=t.tagName;if("INPUT"===n||"SELECT"===n){var r=t.nextElementSibling;if("SELECT"===n){var i=t[0];i&&u["default"].hasClass(i,o["default"].PLACEHOLDER)&&t.removeChild(i)}else r=e.flounder.parentNode;try{r.parentNode.removeChild(r),t.tabIndex=0,u["default"].removeClass(t,o["default"].HIDDEN)}catch(s){throw" : this flounder may have already been removed"}}else try{var a=e.wrapper,l=a.parentNode;l.removeChild(a)}catch(s){throw" : this flounder may have already been removed"}e.flounder.flounder=t.flounder=this.target.flounder=null},deselectAll:function(){this.removeSelectedClass(),this.removeSelectedValue();var e=this.refs.multiTagWrapper;if(e){var t=d.call(e.children);t.forEach(function(e){return e.children[0].click()})}},disable:function(e){var t=this.refs,n=t.flounder,r=t.selected;e?(t.flounder.removeEventListener("keydown",this.checkFlounderKeypress),t.selected.removeEventListener("click",this.toggleList),u["default"].addClass(r,o["default"].DISABLED),u["default"].addClass(n,o["default"].DISABLED)):(t.flounder.addEventListener("keydown",this.checkFlounderKeypress),t.selected.addEventListener("click",this.toggleList),u["default"].removeClass(r,o["default"].DISABLED),u["default"].removeClass(n,o["default"].DISABLED))},disableByIndex:function(e,t){var n=this,r=this.refs;if("string"!=typeof e&&e.length){var i=function(){var r=n.disableByIndex.bind(n);return{v:e.map(function(e){return r(e,t)})}}();if("object"===("undefined"==typeof i?"undefined":s(i)))return i.v}else{var a=r.data;a.length;if(e<0){var l=a.length;e=l+e}var c=a[e];if(c){var d=r.selectOptions[e];return t?(d.disabled=!1,u["default"].removeClass(c,o["default"].DISABLED)):(d.disabled=!0,u["default"].addClass(c,o["default"].DISABLED)),[c,d]}console.warn("Flounder - No element to disable.")}},disableByText:function(e,t){var n=this;if("string"!=typeof e&&e.length){var r=function(){var r=n.disableByText.bind(n),i=e.map(function(e){return r(e,t)});return{v:1===i.length?i[0]:i}}();if("object"===("undefined"==typeof r?"undefined":s(r)))return r.v}else{var i=function(){var r=[];return n.refs.data.forEach(function(t,n){var i=t.innerHTML;i===e&&r.push(n)}),r=1===r.length?r[0]:r,{v:n.disableByIndex(r,t)}}();if("object"===("undefined"==typeof i?"undefined":s(i)))return i.v}},disableByValue:function(e,t){var n=this;if("string"==typeof e||!e.length){var r=this.refs.selectOptions.map(function(t,n){return""+t.value==""+e?n:null}).filter(function(e){return!(!e&&0!==e)});return r=1===r.length?r[0]:r,this.disableByIndex(r,t)}var i=function(){var r=n.disableByValue.bind(n),i=e.map(function(e){return r(e,t)});return{v:1===i.length?i[0]:i}}();if("object"===("undefined"==typeof i?"undefined":s(i)))return i.v},enableByIndex:function(e){return this.disableByIndex(e,!0)},enableByText:function(e){return this.disableByText(e,!0)},enableByValue:function(e){this.disableByValue(e,!0)},getData:function(e){var t=this,n=this.refs;return"number"==typeof e?{option:n.selectOptions[e],div:n.data[e]}:e&&e.length&&"string"!=typeof e?e.map(function(e){return t.getData(e)}):e?void console.warn("Flounder - Illegal parameter type."):n.selectOptions.map(function(e,n){return t.getData(n)})},getSelected:function(){var e=this.refs.select,t=[],n=e.options;return d.call(n).forEach(function(e){e.selected&&!u["default"].hasClass(e,o["default"].PLACEHOLDER)&&t.push(e)}),t},getSelectedValues:function(){return this.getSelected().map(function(e){return e.value})},loadDataFromUrl:function(e,t){var n=this;return u["default"].http.get(e).then(function(e){e?(n.data=JSON.parse(e),t&&t(n.data)):console.warn("no data recieved")})["catch"](function(e){console.warn("something happened: ",e),n.rebuild([{text:"",value:"",index:0,extraClass:o["default"].LOADING_FAILED}])}),[{text:"",value:"",index:0,extraClass:o["default"].LOADING}]},rebuild:function(e,t){if(t||!t&&("string"==typeof e||e&&"number"!=typeof e.length))return this.reconfigure(e,t);e=this.data=e||this.data,t=this.props;var n=this.refs,r=n.select;this.deselectAll(),this.removeOptionsListeners(),n.select.innerHTML="",n.select=!1,this._default=(0,c.setDefaultOption)(this,t,e,!0),n.optionsList.innerHTML="";var s=this.buildData(this._default,this.data,n.optionsList,r),a=i(s,2);return n.data=a[0],n.selectOptions=a[1],n.select=r,this.addOptionsListeners(),this.data=e,this.displaySelected(n.selected,n),this},setByIndex:function(e,t){var n=this,r=arguments.length<=2||void 0===arguments[2]||arguments[2],i=this.refs;if("string"==typeof e||!e.length){var a=this.data;a.length;if(e<0){var l=a.length;e=l+e}var c=i.data[e];if(c){var d=u["default"].hasClass(i.wrapper,o["default"].OPEN);return this.toggleList(d?"close":"open"),this.___forceMultiple=t&&this.multiple,this.___programmaticClick=r,c.click(),c}return null}var f=function(){var i=n.setByIndex.bind(n);return{v:e.map(function(e){return i(e,t,r)})}}();if("object"===("undefined"==typeof f?"undefined":s(f)))return f.v},setByText:function(e,t){var n=this,r=arguments.length<=2||void 0===arguments[2]||arguments[2];if("string"!=typeof e&&e.length){var i=function(){var i=n.setByText.bind(n);return{v:e.map(function(e){return i(e,t,r)})}}();if("object"===("undefined"==typeof i?"undefined":s(i)))return i.v}else{var a=function(){var i=[];return e=""+e,n.refs.data.forEach(function(t,n){var r=t.innerHTML;r===e&&i.push(n)}),{v:n.setByIndex(i,t,r)}}();if("object"===("undefined"==typeof a?"undefined":s(a)))return a.v}},setByValue:function(e,t){var n=this,r=arguments.length<=2||void 0===arguments[2]||arguments[2];if("string"==typeof e||!e.length){var i=this.refs.selectOptions.map(function(t,n){return""+t.value==""+e?n:null}).filter(function(e){return 0===e||!!e});return this.setByIndex(i,t,r)}var a=function(){var i=n.setByValue.bind(n);return{v:e.map(function(e){return i(e,t,r)})}}();if("object"===("undefined"==typeof a?"undefined":s(a)))return a.v}};n["default"]=f},{"./classes":14,"./defaults":15,"./utils":20}],13:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=e("./classes"),o=r(a),l=e("./defaults"),u=e("./utils"),c=r(u),d={addOptionDescription:function(e,t){var n=document.createElement("div");n.innerHTML=t,n.className=o["default"].DESCRIPTION,e.appendChild(n)},addSearch:function(e){if(this.search){var t=c["default"].constructElement({tagname:"input",type:"text",className:o["default"].SEARCH});return e.appendChild(t),t}return!1},bindThis:function(){var e=this;["catchBodyClick","checkClickTarget","checkFlounderKeypress","checkMultiTagKeydown","clearPlaceholder","clickSet","divertTarget","displayMultipleTags","firstTouchController","fuzzySearch","removeMultiTag","setKeypress","setSelectValue","toggleList","toggleListSearchClick"].forEach(function(t){e[t]=e[t].bind(e),e[t].___isBound=!0})},buildArrow:function(e,t){if(e.disableArrow)return!1;var n=t({className:o["default"].ARROW}),r=t({className:o["default"].ARROW_INNER});return n.appendChild(r),n},buildData:function(e,t,n,r){var i=0,a=[],l=[],u=c["default"].constructElement,d=this.addOptionDescription,f=this.selectedClass,h=c["default"].escapeHTML,p=c["default"].addClass,v=this.refs,g=v.select,m=this.allowHTML,y=function(t,n){t.index=n;var r=n===e.index?"  "+f:"",i={className:o["default"].OPTION+r,"data-index":n};for(var s in t)"text"!==s&&"description"!==s&&(i[s]=t[s]);var a=u(i);return a.innerHTML=m?t.text:h(t.text),t.description&&d(a,t.description),a.className+=t.extraClass?"  "+t.extraClass:"",a.setAttribute("role","option"),a},E=function(t,n){var i=void 0;if(g){var s=g.children[n];i=s,s.setAttribute("value",s.value),s.disabled===!0&&a[n]&&p(a[n],o["default"].DISABLED),p(s,o["default"].OPTION_TAG)}else{var l=o["default"].OPTION_TAG+"  "+(t.extraClass||"");i=u({tagname:"option",className:l.trim(),value:t.value});var c=h(t.text);i.innerHTML=c;var d=t.disabled;d&&i.setAttribute("disabled",d),r.appendChild(i)}return n===e.index&&(i.selected=!0),i.getAttribute("disabled")&&p(a[n],o["default"].DISABLED),i};return t.forEach(function(e,r){var c="undefined"==typeof e?"undefined":s(e);"object"!==c&&(e=t[r]={text:e,value:e}),e.header?!function(){var t=u({tagname:"div",className:o["default"].SECTION}),r=u({tagname:"div",className:o["default"].HEADER});r.textContent=e.header,t.appendChild(r),n.appendChild(t);var s=e.data;s.forEach(function(e,n){"object"!=typeof e&&(e=s[n]={text:e,value:e}),a[i]=y(e,i),t.appendChild(a[i]),l[i]=E(e,i),i++})}():(a[i]=y(e,i),n.appendChild(a[i]),l[i]=E(e,i),i++)}),[a,l]},buildDom:function(){var e=this.props;this.refs={};var t=c["default"].constructElement,n=o["default"].MAIN_WRAPPER,r=c["default"].constructElement({className:this.wrapperClass?n+"  "+this.wrapperClass:n}),s=o["default"].MAIN,a=t({className:this.flounderClass?s+"  "+this.flounderClass:s});a.setAttribute("aria-hidden",!0),a.tabIndex=0,r.appendChild(a);var u=this.initSelectBox(r);u.tabIndex=-1;var d=this.data,f=this._default=(0,l.setDefaultOption)(this,this.props,d),h=t({className:o["default"].SELECTED_DISPLAYED,"data-value":f.value,"data-index":f.index||-1}),p=this.multipleTags?t({className:o["default"].MULTI_TAG_LIST}):null,v=t({className:o["default"].OPTIONS_WRAPPER+"  "+o["default"].HIDDEN}),g=t({className:o["default"].LIST});g.setAttribute("role","listbox"),v.appendChild(g),this.multiple===!0&&(u.setAttribute("multiple",""),g.setAttribute("aria-multiselectable","true"));var m=this.buildArrow(e,t);[h,p,v,m].forEach(function(e){e&&a.appendChild(e)});var y=this.addSearch(a),E=void 0,T=this.buildData(f,d,g,u),C=i(T,2);if(d=C[0],E=C[1],this.target.appendChild(r),this.refs={wrapper:r,flounder:a,selected:h,arrow:m,optionsListWrapper:v,search:y,multiTagWrapper:p,optionsList:g,select:u,data:d,selectOptions:E},this.multipleTags){var _=this.getSelected();0===_.length?h.innerHTML=f.text:this.displayMultipleTags(_,p)}else h.innerHTML=f.text},buildMultiTag:function(e){var t=e.innerHTML,n=document.createElement("SPAN");n.className=o["default"].MULTIPLE_SELECT_TAG,n.setAttribute("aria-label","Close"),n.setAttribute("tabindex",0);var r=document.createElement("A");return r.className=o["default"].MULTIPLE_TAG_CLOSE,r.setAttribute("data-index",e.index),n.appendChild(r),n.innerHTML+=t,n},initSelectBox:function(e){var t=this,n=this.target,r=this.refs,i=r.select;return"SELECT"===n.tagName?(c["default"].addClass(n,o["default"].SELECT_TAG),c["default"].addClass(n,o["default"].HIDDEN),i=n,this.props.keepChangesOnDestroy||this.popOutSelectElements(i),n.length>0&&!this.selectDataOverride?!function(){t.refs.select=i;var e=[],s=[];Array.prototype.slice.call(n.children,0).forEach(function(t){s.push(t),e.push({text:t.innerHTML,value:t.value})}),r.selectOptions=s,t.data=e}():this.selectDataOverride&&c["default"].removeAllChildren(n),this.target=n.parentNode,c["default"].addClass(n,o["default"].HIDDEN)):(i=c["default"].constructElement({tagname:"SELECT",className:o["default"].SELECT_TAG+"  "+o["default"].HIDDEN}),e.appendChild(i)),i},popInSelectElements:function(e){c["default"].removeAllChildren(e),this.originalChildren.forEach(function(t,n){e.appendChild(t)})},popOutSelectElements:function(e){var t=[],n=this.originalChildren=Array.prototype.slice.call(e.children,0);n.forEach(function(n,r){t[r]=n.cloneNode(!0),e.removeChild(n)}),t.forEach(function(t){e.appendChild(t)})},reconfigure:function(e,t){return e&&"string"!=typeof e&&"number"==typeof e.length?(t=t=t||this.props,t.data=e):t||"object"!=typeof e?(t=t||{},t.data=t.data||this.data):(t=e,t.data=t.data||this.data),this.constructor(this.originalTarget,t)},setTarget:function(e){e=1===e.nodeType?e:document.querySelector(e),this.originalTarget=e,e.flounder=this,"INPUT"===e.tagName&&(c["default"].addClass(e,o["default"].HIDDEN),e.setAttribute("aria-hidden",!0),e.tabIndex=-1,e=e.parentNode),this.target=e}};n["default"]=d},{"./classes":14,"./defaults":15,"./utils":20}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={ARROW:"flounder__arrow--wrapper",ARROW_INNER:"flounder__arrow--inner",DESCRIPTION:"flounder__option--description",DISABLED:"flounder__disabled",DISABLED_OPTION:"flounder__disabled--option",HEADER:"flounder__header",HIDDEN:"flounder--hidden",HIDDEN_IOS:"flounder--hidden--ios",HOVER:"flounder__hover",LIST:"flounder__list",LOADING:"flounder__loading",LOADING_FAILED:"flounder__loading--failed",MAIN:"flounder",MAIN_WRAPPER:"flounder--wrapper  flounder__input--select",MULTI_TAG_LIST:"flounder__multi--tag--list",MULTIPLE_SELECT_TAG:"flounder__multiple--select--tag",MULTIPLE_TAG_CLOSE:"flounder__multiple__tag__close",OPEN:"open",OPTION:"flounder__option",OPTION_TAG:"flounder--option--tag",OPTIONS_WRAPPER:"flounder__list--wrapper",PLACEHOLDER:"flounder__placeholder",PLUG:"flounder__ios--plug",SECTION:"flounder__section",SELECTED:"flounder__option--selected",SELECTED_HIDDEN:"flounder__option--selected--hidden",SELECTED_DISPLAYED:"flounder__option--selected--displayed",SEARCH:"flounder__input--search",SEARCH_HIDDEN:"flounder--search--hidden",SELECT_TAG:"flounder--select--tag"};n["default"]=r},{}],15:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0}),n.setDefaultOption=n.defaultOptions=void 0;var i=e("./classes"),s=r(i),a=e("./utils"),o=r(a),l=n.defaultOptions={allowHTML:!1,classes:{flounder:"",hidden:"flounder--hidden",selected:"flounder__option--selected",wrapper:""},data:[],defaultEmpty:!1,defaultIndex:!1,defaultValue:!1,disableArrow:!1,keepChangesOnDestroy:!1,multiple:!1,multipleTags:!1,multipleMessage:"(Multiple Items Selected)",onClose:function(e,t){},onComponentDidMount:function(){},onComponentWillUnmount:function(){},onFirstTouch:function(e){},onInit:function(){},onInputChange:function(e){},onOpen:function(e,t){},onSelect:function(e,t){},openOnHover:!1,placeholder:"Please choose an option",search:!1,selectDataOverride:!1},u={defaultOptions:l,setDefaultOption:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments[2],r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],i=function(e,n){var r=n||0===n?n:t.defaultIndex,i=e[r];return i?(i.index=r,i):null},a=function(e,r){var i=e.refs,a=i.select,u=t.placeholder,c={text:u||""===u?u:l.placeholder,value:"",index:0,extraClass:s["default"].HIDDEN+"  "+s["default"].PLACEHOLDER};if(a){var d=e.allowHTML?c.text:o["default"].escapeHTML(c.text),f=o["default"].constructElement({tagname:"option",className:s["default"].OPTION_TAG,value:c.value});f.innerHTML=d,a.insertBefore(f,a[0]),e.refs.selectOptions.unshift(f)}return n.unshift(c),c},u=function(e,n){var r=n||""+t.defaultValue,i=void 0;e.forEach(function(e,t){var n=""+e.value;n===r&&(i=t)});var s=i>=0?e[i]:null;return s?(s.index=i,s):null},c=function(){var s=e.sortData(n);!t.multipleTags&&!t.multiple||t.defaultIndex||t.defaultValue||(t.placeholder=t.placeholder||l.placeholder),t.defaultEmpty&&(t.placeholder="");var o=t.placeholder;if(o||""===o||0===s.length)return a(e,s);var c=void 0;if(r){var d=e.refs.selected.getAttribute("data-value");if(c=u(s,d))return c}return c=t.defaultIndex?i(s):null,c=!c&&t.defaultValue?u(s):c,c=c?c:i(s,0)};return n=n||t.data||[],c()},sortData:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],r=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return e.forEach(function(e){e.header?n=t.sortData(e.data,n,r):("object"!=typeof e?e={text:e,value:e,index:r}:e.index=r,n.push(e),r++)}),n}};n.setDefaultOption=u.setDefaultOption;n["default"]=u},{"./classes":14,"./utils":20}],16:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=e("./classes"),a=r(s),o=e("./search"),l=(r(o),e("./utils")),u=r(l),c=e("./keycodes"),d=r(c),f=Array.prototype.slice,h={addFirstTouchListeners:function(){var e=this.refs;e.selected.addEventListener("click",this.firstTouchController),e.select.addEventListener("focus",this.firstTouchController),this.props.openOnHover&&e.wrapper.addEventListener("mouseenter",this.firstTouchController)},addHoverClass:function(){u["default"].addClass(this,a["default"].HOVER)},addListeners:function(e){var t=this.isIos,n=t?"blur":"change";if(e.select.addEventListener(n,this.divertTarget),e.flounder.addEventListener("keydown",this.checkFlounderKeypress),this.props.openOnHover){var r=e.wrapper;r.addEventListener("mouseenter",this.toggleList),r.addEventListener("mouseleave",this.toggleList)}else e.selected.addEventListener("click",this.toggleList);this.addFirstTouchListeners(),this.addOptionsListeners(),this.search&&this.addSearchListeners()},addMultipleTags:function(e,t){var n=this;e.forEach(function(e){if(""!==e.value){var r=n.buildMultiTag(e);t.appendChild(r)}else e.selected=!1}),f.call(t.children,0).forEach(function(e){var t=e.firstChild;t.addEventListener("click",n.removeMultiTag),e.addEventListener("keydown",n.checkMultiTagKeydown)})},addOptionsListeners:function(){var e=this;this.refs.data.forEach(function(t,n){"DIV"===t.tagName&&(t.addEventListener("mouseenter",e.addHoverClass),t.addEventListener("mouseleave",e.removeHoverClass),t.addEventListener("click",e.clickSet))})},addPlaceholder:function(){var e=this.getSelectedValues(),t=e[0],n=this.getSelected(),r=n.length?n[0].innerHTML:"",i=e.length,s=this.refs.selected;switch(i){case 0:this.setByIndex(0);break;case 1:s.innerHTML=r;break;default:s.innerHTML=this.multipleMessage}this.multipleTags&&(0===i&&this.setByIndex(0),t&&""!==t?s.innerHTML="":s.innerHTML=this.placeholder)},addSearchListeners:function(){var e=this.refs.search;e.addEventListener("click",this.toggleListSearchClick),e.addEventListener("focus",this.toggleListSearchClick),e.addEventListener("keyup",this.fuzzySearch),e.addEventListener("focus",this.clearPlaceholder)},addSelectKeyListener:function(){var e=this.refs,t=e.select;if(t.addEventListener("keyup",this.setSelectValue),t.addEventListener("keydown",this.setKeypress),this.isIos){var n=t.children[0],r=document.createElement("OPTION");r.disabled=!0,r.className=a["default"].PLUG,t.insertBefore(r,n)}t.focus()},catchBodyClick:function(e){this.checkClickTarget(e)||(this.toggleList(e),this.addPlaceholder())},checkClickTarget:function(e,t){return t=t||e.target,t!==document&&(t===this.refs.flounder||(t=t.parentNode,!!t&&this.checkClickTarget(e,t)))},checkEnterOnSearch:function(e,t){var n=this,r=e.target.value;if(!r||""===r)return!1;var s=function(){var e=[],i=(t.data.length,n.getSelected()),s=n.search.isThereAnythingRelatedTo(r);if(s.forEach(function(n){var r=n.i;n=t.selectOptions[r],i.indexOf(n)===-1&&e.push(n)}),1===e.length){var a=e[0];n.setByIndex(a.index,n.multiple),n.multipleTags&&setTimeout(function(){return t.search.focus()},200)}return{v:e}}();return"object"===("undefined"==typeof s?"undefined":i(s))?s.v:void 0},checkFlounderKeypress:function(e){var t=e.keyCode,n=this.refs;if(t===d["default"].TAB){var r=n.optionsListWrapper,i=n.wrapper;this.addPlaceholder(),this.toggleClosed(e,r,n,i,!0)}else if(t===d["default"].ENTER||t===d["default"].SPACE&&"INPUT"!==e.target.tagName){if(t===d["default"].ENTER&&this.search&&u["default"].hasClass(n.wrapper,a["default"].OPEN))return this.checkEnterOnSearch(e,n);e.preventDefault(),this.toggleList(e)}else(t>=48&&t<=57||t>=65&&t<=90)&&n.search&&"INPUT"===e.target.tagName&&(n.selected.innerHTML="")},checkMultiTagKeydown:function(e){function t(){i.search.focus(),r.clearPlaceholder(),r.toggleListSearchClick(e)}var n=e.keyCode,r=this,i=this.refs,s=i.multiTagWrapper.children,a=e.target,o=f.call(s,0).indexOf(a);n===d["default"].LEFT||n===d["default"].RIGHT||n===d["default"].BACKSPACE?(e.preventDefault(),e.stopPropagation(),n===d["default"].BACKSPACE?r.checkMultiTagKeydownRemove(a,t,o):r.checkMultiTagKeydownNavigate(t,n,o)):e.key.length<2&&t()},checkMultiTagKeydownNavigate:function(e,t,n){var r=this.refs.multiTagWrapper.children,i=t-38,s=n+i,a=r.length-1;s>a?e():s>=0&&r[s].focus()},checkMultiTagKeydownRemove:function(e,t,n){var r=this.refs.multiTagWrapper.children,i=r.length-1;e.firstChild.click(),i>0?r[0===n?0:n-1].focus():t()},clearPlaceholder:function(){var e=this.refs.selected;e.innerHTML=""},clickSet:function(e){e.preventDefault(),e.stopPropagation(),this.setSelectValue({},e),this.multiple&&e[this.multiSelect]||this.toggleList(e)},displayMultipleTags:function(e,t){var n=this;f.call(t.children,0).forEach(function(e){var t=e.firstChild;t.removeEventListener("click",n.removeMultiTag),
e.removeEventListener("keydown",n.checkMultiTagKeydown)}),t.innerHTML="",e.length>0?this.addMultipleTags(e,t):this.addPlaceholder(),this.setTextMultiTagIndent()},displaySelected:function(e,t){var n=[],r=-1,i=this.getSelected(),s=i.length,a=this.multipleTags;if(a||1!==s)if(a||0!==s)a?(e.innerHTML="",this.displayMultipleTags(i,t.multiTagWrapper)):e.innerHTML=this.multipleMessage,r=i.map(function(e){return e.index}),n=i.map(function(e){return e.value});else{var o=this._default;r=o.index,n=o.value,e.innerHTML=o.text}else r=i[0].index,n=i[0].value,e.innerHTML=t.data[r].innerHTML;e.setAttribute("data-value",n),e.setAttribute("data-index",r)},divertTarget:function(e){if(this.isIos){var t=this.refs.select,n=t.querySelector("."+a["default"].PLUG);n&&t.removeChild(n)}var r=e.target.selectedIndex,i={type:e.type,target:this.data[r]};this.multipleTags&&(e.preventDefault(),e.stopPropagation()),this.setSelectValue(i),this.multiple||this.toggleList(e,"close")},firstTouchController:function(e){var t=this.refs;try{this.onFirstTouch(e)}catch(e){console.warn('something may be wrong in "onFirstTouch"',e)}t.selected.removeEventListener("click",this.firstTouchController),t.select.removeEventListener("focus",this.firstTouchController),this.props.openOnHover&&t.wrapper.removeEventListener("mouseenter",this.firstTouchController)},removeHoverClass:function(){u["default"].removeClass(this,a["default"].HOVER)},removeListeners:function(){var e=this.refs;this.removeOptionsListeners();var t=document.querySelector("html"),n=this.catchBodyClick;t.removeEventListener("click",n),t.removeEventListener("touchend",n);var r=e.select;r.removeEventListener("change",this.divertTarget),r.removeEventListener("blur",this.divertTarget),e.selected.removeEventListener("click",this.toggleList),e.flounder.removeEventListener("keydown",this.checkFlounderKeypress),this.search&&this.removeSearchListeners()},removeMultiTag:function(e){e.preventDefault(),e.stopPropagation();var t=void 0,n=void 0,r=this.refs,i=r.select,s=r.selected,o=e.target,l=(this._default,this.refs.data),c=o.getAttribute("data-index");i[c].selected=!1;var d=this.getSelected();u["default"].removeClass(l[c],a["default"].SELECTED_HIDDEN),u["default"].removeClass(l[c],a["default"].SELECTED),o.removeEventListener("click",this.removeMultiTag);var f=o.parentNode;f.parentNode.removeChild(f),0===d.length?(this.addPlaceholder(),n=-1,t=""):(t=d.map(function(e){return e.value}),n=d.map(function(e){return e.index})),this.setTextMultiTagIndent(),s.setAttribute("data-value",t),s.setAttribute("data-index",n);try{this.onSelect(e,this.getSelectedValues())}catch(e){console.warn('something may be wrong in "onSelect"',e)}},removeOptionsListeners:function(){var e=this;this.refs.data.forEach(function(t){"DIV"===t.tagName&&(t.removeEventListener("click",e.clickSet),t.removeEventListener("mouseenter",e.addHoverClass),t.removeEventListener("mouseleave",e.removeHoverClass))})},removeSearchListeners:function(){var e=this.refs.search;e.removeEventListener("click",this.toggleListSearchClick),e.removeEventListener("focus",this.toggleListSearchClick),e.removeEventListener("keyup",this.fuzzySearch),e.removeEventListener("focus",this.clearPlaceholder)},removeSelectedClass:function(e){var t=this;e=e||this.refs.data,e.forEach(function(e,n){u["default"].removeClass(e,t.selectedClass)})},removeSelectedValue:function(e){e=e||this.refs.data;var t=this.refs.select.children;e.forEach(function(e,n){t[n].selected=!1})},removeSelectKeyListener:function(){var e=this.refs.select;e.removeEventListener("keyup",this.setSelectValue)},setKeypress:function(e){var t=this.refs,n=0,r=e.keyCode,i=d["default"].NON_CHARACTER_KEYS;if(i.indexOf(r)===-1){if(r===d["default"].TAB){var s=t.optionsListWrapper,a=t.wrapper;return this.addPlaceholder(),this.toggleClosed(e,s,t,a,!0),!1}if(r===d["default"].ENTER||r===d["default"].ESCAPE||r===d["default"].SPACE)return this.toggleList(e),!1;if(r===d["default"].UP||r===d["default"].DOWN){if(!window.sidebar){e.preventDefault();var o=t.search;o&&(o.value=""),n=r-39}this.setKeypressElement(e,n)}return!0}},setKeypressElement:function(e,t){var n=this.refs,r=n.select,i=n.data,s=i.length-1,o=r.selectedIndex+t;o>s?o=0:o<0&&(o=s),r.selectedIndex=o;var l=u["default"].hasClass,c=i[o];(l(c,a["default"].HIDDEN)||l(c,a["default"].SELECTED_HIDDEN)||l(c,a["default"].SEARCH_HIDDEN)||l(c,a["default"].DISABLED))&&this.setKeypress(e)},setSelectValue:function(e,t){var n=this.refs,r=void 0;if(t?this.setSelectValueClick(t):(r=e.keyCode,this.setSelectValueButton(e)),this.displaySelected(n.selected,n),!this.___programmaticClick){var i=[9,16,17,18,20,91];if(t||"blur"===e.type||!r&&"change"===e.type||r&&i.indexOf(r)===-1)if(this.toggleList.justOpened&&!t)this.toggleList.justOpened=!1;else try{this.onSelect(t,this.getSelectedValues())}catch(t){console.warn('something may be wrong in "onSelect"',t)}}this.___programmaticClick=!1},setSelectValueButton:function(){var e=this.refs,t=e.data,n=(e.select,this.selectedClass),r=void 0;this.removeSelectedClass(t);var i=this.getSelected(),s=i[0];s&&(r=t[s.index],u["default"].addClass(r,n),u["default"].scrollTo(r))},setSelectValueClick:function(e){var t=this.multiple,n=this.refs,r=this.selectedClass,i=void 0,s=void 0;t&&(!t||this.multipleTags||e[this.multiSelect])||this.___forceMultiple||this.deselectAll(),this.___forceMultiple=!1;var a=e.target;u["default"].toggleClass(a,r),i=a.getAttribute("data-index"),s=n.selectOptions[i],s.selected=s.selected!==!0;var o=n.selectOptions[0];""===o.value&&this.getSelected().length>1&&(u["default"].removeClass(n.data[0],r),n.selectOptions[0].selected=!1)},setTextMultiTagIndent:function(){var e=this,t=this.refs,n=t.search,r=0;f.call(t.multiTagWrapper.children,0).forEach(function(t,n){r+=u["default"].getElWidth(t,e.setTextMultiTagIndent,e)}),n.style.textIndent=r>0?r+"px":""},toggleClosed:function(e,t,n,r){var i=!(arguments.length<=4||void 0===arguments[4])&&arguments[4];u["default"].addClass(t,a["default"].HIDDEN),this.removeSelectKeyListener(),u["default"].removeClass(r,a["default"].OPEN);var s=document.querySelector("html");if(s.removeEventListener("click",this.catchBodyClick),s.removeEventListener("touchend",this.catchBodyClick),this.search&&this.fuzzySearchReset(),i||n.flounder.focus(),this.ready)try{this.onClose(e,this.getSelectedValues())}catch(e){console.warn('something may be wrong in "onClose"',e)}},toggleList:function(e,t){var n=this.refs,r=n.optionsListWrapper,i=n.wrapper,s=u["default"].hasClass(r,a["default"].HIDDEN),o=e.type;"mouseleave"!==o&&"close"!==t&&s?("keydown"===o&&(this.toggleList.justOpened=!0),this.toggleOpen(e,r,n,i)):(this.toggleList.justOpened=!1,this.toggleClosed(e,r,n,i))},toggleListSearchClick:function(e){u["default"].hasClass(this.refs.wrapper,a["default"].OPEN)||this.toggleList(e,"open")},toggleOpen:function(e,t,n,r){if(this.addSelectKeyListener(),!this.isIos||this.search||this.multipleTags===!0){u["default"].removeClass(t,a["default"].HIDDEN),u["default"].addClass(r,a["default"].OPEN);var i=document.querySelector("html");i.addEventListener("click",this.catchBodyClick),i.addEventListener("touchend",this.catchBodyClick)}if(!this.multiple){var s=n.select.selectedIndex,o=n.data[s];u["default"].scrollTo(o)}if(this.search&&n.search.focus(),this.ready)try{this.onOpen(e,this.getSelectedValues())}catch(e){console.warn('something may be wrong in "onOpen"',e)}}};n["default"]=h},{"./classes":14,"./keycodes":18,"./search":19,"./utils":20}],17:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("./defaults"),o=e("./utils"),l=r(o),u=e("./api"),c=r(u),d=e("./build"),f=r(d),h=e("./events"),p=r(h),v=e("./classes"),g=r(v),m=e("./search"),y=r(m),E=e("./version"),T=r(E),C=e("./keycodes"),_=r(C),L=function(){function e(t,n){if(i(this,e),t){if("string"==typeof t&&(t=document.querySelectorAll(t)),(t.length||0===t.length)&&"SELECT"!==t.tagName){if(t.length>1)console.warn("Flounder - More than one element found. Dropping all but the first.");else if(0===t.length)throw"Flounder - No target element found.";t=t[0]}return t.flounder&&t.flounder.destroy(),this.init(t,n)}console.warn("Flounder - No target element found.")}return s(e,[{key:"componentWillUnmount",value:function(){try{this.onComponentWillUnmount()}catch(e){console.warn('something may be wrong in "onComponentWillUnmount"',e)}this.removeListeners(),this.originalChildren&&this.popInSelectElements(this.refs.select)}}]),s(e,[{key:"filterSearchResults",value:function(e){var t=this,n=e.target.value.trim();this.fuzzySearch.__previousValue=n;var r=this.search.isThereAnythingRelatedTo(n)||[];""!==n?!function(){var e=t.refs.data;e.forEach(function(e,t){l["default"].addClass(e,g["default"].SEARCH_HIDDEN)}),r.forEach(function(t){l["default"].removeClass(e[t.i],g["default"].SEARCH_HIDDEN)})}():this.fuzzySearchReset()}},{key:"fuzzySearch",value:function(e){this.fuzzySearch.__previousValue=this.fuzzySearch.__previousValue||"";try{this.onInputChange(e)}catch(e){console.warn('something may be wrong in "onInputChange"',e)}if(this.toggleList.justOpened)this.toggleList.justOpened=!1;else{e.preventDefault();var t=e.keyCode;if(t!==_["default"].UP&&t!==_["default"].DOWN&&t!==_["default"].ENTER&&t!==_["default"].ESCAPE)if(this.multipleTags&&t===_["default"].BACKSPACE&&""===this.fuzzySearch.__previousValue){var n=this.refs.multiTagWrapper.lastChild;n&&n.focus()}else this.filterSearchResults(e);else t!==_["default"].ESCAPE&&t!==_["default"].ENTER||(this.fuzzySearchReset(),this.toggleList(e,"close"),this.addPlaceholder())}}},{key:"fuzzySearchReset",value:function(){var e=this.refs;e.data.forEach(function(e){l["default"].removeClass(e,g["default"].SEARCH_HIDDEN)}),e.search.value=""}},{key:"init",value:function(e,t){this.props=t,this.setTarget(e),this.bindThis(),this.initializeOptions(),this.search&&(this.search=new y["default"](this));try{this.onInit()}catch(n){console.warn('something may be wrong in "onInit"',n)}this.buildDom();var r=l["default"].setPlatform(),i=r.isOsx,s=r.isIos,a=r.multiSelect;this.isOsx=i,this.isIos=s,this.multiSelect=a,this.onRender();try{this.onComponentDidMount()}catch(n){console.warn('something may be wrong in "onComponentDidMount"',n)}return this.ready=!0,this.refs.flounder.flounder=this.originalTarget.flounder=this.target.flounder=this}},{key:"initializeOptions",value:function(){var e=this.props=this.props||{};for(var t in a.defaultOptions)if("classes"!==t)this[t]=void 0!==e[t]?e[t]:a.defaultOptions[t];else{var n=a.defaultOptions[t],r=e.classes;for(var i in n)this[i+"Class"]=r&&void 0!==r[i]?r[i]:n[i]}e.defaultEmpty&&(this.placeholder=""),this.multipleTags&&(this.search=!0,this.multiple=!0,this.selectedClass+="  "+g["default"].SELECTED_HIDDEN,this.placeholder=""===this.placeholder?this.placeholder:a.defaultOptions.placeholder)}},{key:"onRender",value:function(){var e=(this.props,this.refs);e.data;if(this.isIos&&!this.multiple){var t=e.select;l["default"].removeClass(t,g["default"].HIDDEN),l["default"].addClass(t,g["default"].HIDDEN_IOS)}this.addListeners(e)}},{key:"sortData",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],r=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return e.forEach(function(e){e.header?n=t.sortData(e.data,n,r):("object"!=typeof e?e={text:e,value:e,index:r}:e.index=r,n.push(e),r++)}),n}}]),e}();L.find=function(e,t){return"string"==typeof e?e=document.querySelectorAll(e):1===e.nodeType&&(e=[e]),Array.prototype.slice.call(e,0).map(function(e){return new L(e,t)})},Object.defineProperty(L,"version",{get:function(){return T["default"]}}),Object.defineProperty(L.prototype,"version",{get:function(){return T["default"]}}),l["default"].extendClass(L,c["default"],f["default"],p["default"]),n["default"]=L},{"./api":12,"./build":13,"./classes":14,"./defaults":15,"./events":16,"./keycodes":18,"./search":19,"./utils":20,"./version":21}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={BACKSPACE:8,DOWN:40,ENTER:13,ESCAPE:27,LEFT:37,RIGHT:39,SPACE:32,TAB:9,UP:38,NON_CHARACTER_KEYS:[16,17,18,20,91,93]};n["default"]=r},{}],19:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n.defaults={minimumValueLength:1,minimumScore:0,scoreProperties:["text","textFlat","textSplit","value","valueFlat","valueSplit","description","descriptionSplit"],startsWithProperties:["text","value"],weights:{text:30,textStartsWith:50,textFlat:10,textSplit:10,value:30,valueStartsWith:50,valueFlat:10,valueSplit:10,description:15,descriptionSplit:30}},a=n.Sole=function(){function e(t){return r(this,e),this.flounder=t,this.getResultWeights=this.getResultWeights.bind(this),this.getResultWeights.bound=!0,this.scoreThis=this.scoreThis.bind(this),this.scoreThis.bound=!0,this}return i(e,[{key:"compareScoreCards",value:function(e,t){return e&&e.score&&t&&t.score?(e=e.score,t=t.score,e>t?1:e<t?-1:0):null}}]),i(e,[{key:"escapeRegExp",value:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"getResultWeights",value:function(e,t){var n=this,r=0,i={i:t,d:e},a=e.search=e.search||{},o=s.weights,l=""+e.text,u=""+e.value;return a.text=l,a.textFlat=l.toLowerCase(),a.textSplit=a.textFlat.split(" "),a.value=u,a.valueFlat=u.toLowerCase(),a.valueSplit=a.valueFlat.split(" "),a.description=e.description?e.description.toLowerCase():null,a.descriptionSplit=e.description?a.description.split(" "):null,s.scoreProperties.forEach(function(e){r+=n.scoreThis(a[e],o[e])}),s.startsWithProperties.forEach(function(e){r+=n.startsWith(n.query,a[e],o[e+"StartsWith"])}),i.score=r,i}},{key:"isItemAboveMinimum",value:function(e){return e.score>=s.minimumScore}},{key:"isThereAnythingRelatedTo",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=void 0;if(e=e.length?e:""+e,!(e.length>=s.minimumValueLength))return!1;this.query=e.toLowerCase().split(" ");var n=this.flounder.data;return n=this.flounder.sortData(n),t=this.ratedResults=n.map(this.getResultWeights),t.sort(this.compareScoreCards),t=t.filter(this.isItemAboveMinimum),this.ratedResults=t}},{key:"startsWith",value:function(e,t,n){var r=t.length,i=e.length;if(i<=r){var s=t.toLowerCase().slice(0,i);if(s===e)return n}return 0}},{key:"scoreThis",value:function(e,t,n){var r=this,i=0;return e&&this.query.forEach(function(s){s=r.escapeRegExp(s);var a=0;"string"==typeof e?(s=new RegExp(s,"g"),a=(e.match(s)||[]).length):e[0]?e.forEach(function(e){a=e.indexOf(s)!==-1?1:0}):a=e[s]||1e-6,a&&a>0?i+=t*a*10:n!==!0&&(i=-t)}),Math.floor(i)}}]),e}();n["default"]=a},{}],20:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("/Library/WebServer/Documents/flounder/src/core/classes"),s=(r(i),e("microbejs/src/modules/http")),a=r(s),o={addClass:function(e,t){if("string"!=typeof t&&t.length)return t.forEach(function(t){o.addClass(e,t)}),!0;var n=e.className,r=n.length;o.hasClass(e,t)||n.slice(0,t.length+1)===t+" "||n.slice(r-t.length-1,r)===" "+t||(n+="  "+t),e.className=n.trim()},attachAttributes:function(e,t){if(!t)return null;for(var n in t)"data-"===n.slice(0,5)?e.setAttribute(n,t[n]):e[n]=t[n]},constructElement:function(e){var t=document.createElement(e.tagname||"div");return o.attachAttributes(t,e),t},extendClass:function(e){e=e.prototype;for(var t=function(t){for(var n in t)e[n]=t[n]},n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var s=0,a=r.length;s<a;s++){var o=r[s];t(o)}return e},escapeHTML:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},getElWidth:function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?1500:arguments[3],i=window.getComputedStyle(e);if(0===e.offsetWidth&&this.__checkWidthAgain!==!0){if(!t||!n)throw"Flounder getElWidth error: no callback given.";setTimeout(t.bind(n),r),this.__checkWidthAgain=!0}else this.__checkWidthAgain=!1;return e.offsetWidth+parseInt(i["margin-left"])+parseInt(i["margin-right"])},hasClass:function(e,t){var n=e.className,r=new RegExp("(^"+t+" )|( "+t+"$)|( "+t+" )|(^"+t+"$)");return!!n.match(r)},http:!1,iosVersion:function(){var e=arguments.length<=0||void 0===arguments[0]?window:arguments[0];return!!/iPad|iPhone|iPod/.test(e.navigator.platform)&&(e.indexedDB?"8+":e.SpeechSynthesisUtterance?"7":e.webkitAudioContext?"6":"5-")},removeAllChildren:function(e){Array.prototype.slice.call(e.children,0).forEach(function(t){e.removeChild(t)})},removeClass:function(e,t){if("string"!=typeof t&&t.length)return t.forEach(function(t){o.removeClass(e,t)}),!0;var n=e.className,r=n.length,i=t.length;n===t?n="":n.slice(0,i+1)===t+" "?n=n.slice(i+1,r):n.slice(r-i-1,r)===" "+t?n=n.slice(0,r-i-1):n.indexOf(" "+t+" ")!==-1&&(n=n.replace(" "+t+" "," ")),e.className=n.trim()},scrollTo:function(e){if(!e)return!1;var t=e.parentNode.parentNode,n=e.offsetHeight,r=t.scrollTop,i=t.scrollTop+t.offsetHeight-n,s=e.offsetTop;s<r?t.scrollTop=s-.5*n:s>i&&(t.scrollTop=s-t.offsetHeight+1.5*n)},setPlatform:function(){var e=arguments.length<=0||void 0===arguments[0]?window:arguments[0],t=e.navigator.platform.indexOf("Mac")!==-1,n=o.iosVersion(e),r=t?"metaKey":"ctrlKey";return{isOsx:t,isIos:n,multiSelect:r}},toggleClass:function(e,t){o.hasClass(e,t)?o.removeClass(e,t):o.addClass(e,t)}};(0,a["default"])(o),n["default"]=o},{"/Library/WebServer/Documents/flounder/src/core/classes":14,"microbejs/src/modules/http":3}],21:[function(e,t,n){"use strict";t.exports="1.0.1"},{}],22:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=e("../core/flounder"),s=r(i);!function(e){e.fn.flounder=function(t){var n=s["default"].prototype.destroy;return this.each(function(r,i){var a=new s["default"](i,t),o=e(i);o.data("flounder",a),a.destroy=function(){o.data("flounder",!1),n.call(a)}}),this}}(jQuery)},{"../core/flounder":17}]},{},[22]);