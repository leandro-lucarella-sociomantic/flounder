/*! Flounder v1.2.3 | (c) 2015-2017 Sociomantic Labs | https://github.com/sociomantic-tsunami/flounder/license */!function e(t,n,s){function r(a,o){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!o&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return r(n?n:e)},c,c.exports,e,t,n,s)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<s.length;a++)r(s[a]);return r}({1:[function(e,t,n){"use strict";function s(){if(l.length)throw l.shift()}function r(e){var t;t=o.length?o.pop():new i,t.task=e,a(t)}function i(){this.task=null}var a=e("./raw"),o=[],l=[],u=a.makeRequestCallFromTimer(s);t.exports=r,i.prototype.call=function(){try{this.task.call()}catch(e){r.onerror?r.onerror(e):(l.push(e),u())}finally{this.task=null,o[o.length]=this}}},{"./raw":2}],2:[function(e,t,n){(function(e){"use strict";function n(e){o.length||(a(),l=!0),o[o.length]=e}function s(){for(;u<o.length;){var e=u;if(u+=1,o[e].call(),u>c){for(var t=0,n=o.length-u;t<n;t++)o[t]=o[t+u];o.length-=u,u=0}}o.length=0,u=0,l=!1}function r(e){var t=1,n=new f(e),s=document.createTextNode("");return n.observe(s,{characterData:!0}),function(){t=-t,s.data=t}}function i(e){return function(){function t(){clearTimeout(n),clearInterval(s),e()}var n=setTimeout(t,0),s=setInterval(t,50)}}t.exports=n;var a,o=[],l=!1,u=0,c=1024,d="undefined"!=typeof e?e:self,f=d.MutationObserver||d.WebKitMutationObserver;a="function"==typeof f?r(s):i(s),n.requestFlush=a,n.makeRequestCallFromTimer=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){t.exports=function(t){"use strict";var n=e("promise");t.http=function(e){var t,s,r,i,a,o,l,u;if(!e)return new Error("No parameters given");if("string"==typeof e&&(e={url:e}),t=new XMLHttpRequest,s=e.method||"GET",r=e.url,i=JSON.stringify(e.data)||null,a=e.user||"",o=e.password||"",l=e.headers||null,u="boolean"!=typeof e.async||e.async,t.onreadystatechange=function(){if(4===t.readyState)return t},t.open(s,r,u,a,o),"POST"===s&&t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l)for(var c in l)t.setRequestHeader(c,l[c]);if(u)return new n(function(e,n){t.onerror=function(){n(new Error("Network error!"))},t.send(i),t.onload=function(){200===t.status?e(t.response):n(new Error(t.status))}});var d=function(e){var t={then:function(n){return 200===e.status&&n(e.responseText),t},"catch":function(n){return 200!==e.status&&n({status:e.status,statusText:e.statusText}),t}};return t};return t.send(i),t.onloadend=function(){return t.onreadystatechange(),d(t)},t.onloadend()},t.http.get=function(e){return this({url:e,method:"GET"})},t.http.post=function(e,t){return this({url:e,data:t,method:"POST"})}}},{promise:4}],4:[function(e,t,n){"use strict";t.exports=e("./lib")},{"./lib":9}],5:[function(e,t,n){"use strict";function s(){}function r(e){try{return e.then}catch(t){return m=t,y}}function i(e,t){try{return e(t)}catch(n){return m=n,y}}function a(e,t,n){try{e(t,n)}catch(s){return m=s,y}}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._40=0,this._65=0,this._55=null,this._72=null,e!==s&&v(e,this)}function l(e,t,n){return new e.constructor(function(r,i){var a=new o(s);a.then(r,i),u(e,new p(t,n,a))})}function u(e,t){for(;3===e._65;)e=e._55;return o._37&&o._37(e),0===e._65?0===e._40?(e._40=1,void(e._72=t)):1===e._40?(e._40=2,void(e._72=[e._72,t])):void e._72.push(t):void c(e,t)}function c(e,t){g(function(){var n=1===e._65?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._65?d(t.promise,e._55):f(t.promise,e._55));var s=i(n,e._55);s===y?f(t.promise,m):d(t.promise,s)})}function d(e,t){if(t===e)return f(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=r(t);if(n===y)return f(e,m);if(n===e.then&&t instanceof o)return e._65=3,e._55=t,void h(e);if("function"==typeof n)return void v(n.bind(t),e)}e._65=1,e._55=t,h(e)}function f(e,t){e._65=2,e._55=t,o._87&&o._87(e,t),h(e)}function h(e){if(1===e._40&&(u(e,e._72),e._72=null),2===e._40){for(var t=0;t<e._72.length;t++)u(e,e._72[t]);e._72=null}}function p(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function v(e,t){var n=!1,s=a(e,function(e){n||(n=!0,d(t,e))},function(e){n||(n=!0,f(t,e))});n||s!==y||(n=!0,f(t,m))}var g=e("asap/raw"),m=null,y={};t.exports=o,o._37=null,o._87=null,o._61=s,o.prototype.then=function(e,t){if(this.constructor!==o)return l(this,e,t);var n=new o(s);return u(this,new p(e,t,n)),n}},{"asap/raw":2}],6:[function(e,t,n){"use strict";var s=e("./core.js");t.exports=s,s.prototype.done=function(e,t){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(e){setTimeout(function(){throw e},0)})}},{"./core.js":5}],7:[function(e,t,n){"use strict";function s(e){var t=new r(r._61);return t._65=1,t._55=e,t}var r=e("./core.js");t.exports=r;var i=s(!0),a=s(!1),o=s(null),l=s(void 0),u=s(0),c=s("");r.resolve=function(e){if(e instanceof r)return e;if(null===e)return o;if(void 0===e)return l;if(e===!0)return i;if(e===!1)return a;if(0===e)return u;if(""===e)return c;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new r(t.bind(e))}catch(n){return new r(function(e,t){t(n)})}return s(e)},r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,n){function s(a,o){if(o&&("object"==typeof o||"function"==typeof o)){if(o instanceof r&&o.then===r.prototype.then){for(;3===o._65;)o=o._55;return 1===o._65?s(a,o._55):(2===o._65&&n(o._55),void o.then(function(e){s(a,e)},n))}var l=o.then;if("function"==typeof l){var u=new r(l.bind(o));return void u.then(function(e){s(a,e)},n)}}t[a]=o,0===--i&&e(t)}if(0===t.length)return e([]);for(var i=t.length,a=0;a<t.length;a++)s(a,t[a])})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){e.forEach(function(e){r.resolve(e).then(t,n)})})},r.prototype["catch"]=function(e){return this.then(null,e)}},{"./core.js":5}],8:[function(e,t,n){"use strict";var s=e("./core.js");t.exports=s,s.prototype["finally"]=function(e){return this.then(function(t){return s.resolve(e()).then(function(){return t})},function(t){return s.resolve(e()).then(function(){throw t})})}},{"./core.js":5}],9:[function(e,t,n){"use strict";t.exports=e("./core.js"),e("./done.js"),e("./finally.js"),e("./es6-extensions.js"),e("./node-extensions.js"),e("./synchronous.js")},{"./core.js":5,"./done.js":6,"./es6-extensions.js":7,"./finally.js":8,"./node-extensions.js":10,"./synchronous.js":11}],10:[function(e,t,n){"use strict";function s(e,t){for(var n=[],s=0;s<t;s++)n.push("a"+s);var r=["return function ("+n.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(n).concat([o]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],r)(i,e)}function r(e){for(var t=Math.max(e.length-1,3),n=[],s=0;s<t;s++)n.push("a"+s);var r=["return function ("+n.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+t+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+o+";","var res;","switch (argLength) {",n.concat(["extra"]).map(function(e,t){return"case "+t+":res = fn.call("+["self"].concat(n.slice(0,t)).concat("cb").join(",")+");break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],r)(i,e)}var i=e("./core.js"),a=e("asap");t.exports=i,i.denodeify=function(e,t){return"number"==typeof t&&t!==1/0?s(e,t):r(e)};var o="function (err, res) {if (err) { rj(err); } else { rs(res); }}";i.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),n="function"==typeof t[t.length-1]?t.pop():null,s=this;try{return e.apply(this,arguments).nodeify(n,s)}catch(r){if(null===n||"undefined"==typeof n)return new i(function(e,t){t(r)});a(function(){n.call(s,r)})}}},i.prototype.nodeify=function(e,t){return"function"!=typeof e?this:void this.then(function(n){a(function(){e.call(t,null,n)})},function(n){a(function(){e.call(t,n)})})}},{"./core.js":5,asap:1}],11:[function(e,t,n){"use strict";var s=e("./core.js");t.exports=s,s.enableSynchronous=function(){s.prototype.isPending=function(){return 0==this.getState()},s.prototype.isFulfilled=function(){return 1==this.getState()},s.prototype.isRejected=function(){return 2==this.getState()},s.prototype.getValue=function(){if(3===this._65)return this._55.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._55},s.prototype.getReason=function(){if(3===this._65)return this._55.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._55},s.prototype.getState=function(){return 3===this._65?this._55.getState():this._65===-1||this._65===-2?0:this._65}},s.disableSynchronous=function(){s.prototype.isPending=void 0,s.prototype.isFulfilled=void 0,s.prototype.isRejected=void 0,s.prototype.getValue=void 0,s.prototype.getReason=void 0,s.prototype.getState=void 0}},{"./core.js":5}],12:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],s=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(s=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);s=!0);}catch(l){r=!0,i=l}finally{try{!s&&o["return"]&&o["return"]()}finally{if(r)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=e("./utils"),a=s(i),o=e("./defaults"),l=Array.prototype.slice,u={buildFromUrl:function(e,t){var n=this;return this.loadDataFromUrl(e,function(e){n.data=e,t&&t(n.data),n.rebuild(n.data)}),[]},clickByIndex:function(e,t){return this.setByIndex(e,t,!1)},clickByText:function(e,t){return this.setByText(e,t,!1)},clickByValue:function(e,t){return this.setByValue(e,t,!1)},destroy:function(){this.componentWillUnmount();var e=this.refs,t=this.classes,n=this.originalTarget,s=n.tagName;if("INPUT"===s||"SELECT"===s){var r=n.nextElementSibling;if("SELECT"===s){var i=n[0];i&&a["default"].hasClass(i,t.PLACEHOLDER)&&n.removeChild(i)}else r=e.flounder.parentNode;try{var o=this.classes;r.parentNode.removeChild(r),n.tabIndex=0,a["default"].removeClass(n,o.HIDDEN)}catch(l){throw" : this flounder may have already been removed"}}else try{var u=e.wrapper,c=u.parentNode;c.removeChild(u)}catch(l){throw" : this flounder may have already been removed"}e.flounder.flounder=n.flounder=this.target.flounder=null},deselectAll:function(e){var t=this;if(this.removeSelectedClass(),this.removeSelectedValue(),this.multiple){var n=this.refs.multiTagWrapper;if(n){var s=l.call(n.children,0,-1);s.forEach(function(n,r){var i=r===s.length-1;!e&&i?(n=n.children,n=n[0],n.click()):(n.removeEventListener("click",t.removeMultiTag),n.remove())}),this.addPlaceholder()}}},disable:function(e){var t=this.refs,n=this.classes,s=t.flounder,r=t.selected;e?(t.flounder.removeEventListener("keydown",this.checkFlounderKeypress),t.selected.removeEventListener("click",this.toggleList),a["default"].addClass(r,n.DISABLED),a["default"].addClass(s,n.DISABLED)):(t.flounder.addEventListener("keydown",this.checkFlounderKeypress),t.selected.addEventListener("click",this.toggleList),a["default"].removeClass(r,n.DISABLED),a["default"].removeClass(s,n.DISABLED))},disableByIndex:function c(e,t){var n=this.refs;if("string"!=typeof e&&e.length){var c=this.disableByIndex.bind(this);return e.map(function(e){return c(e,t)})}var s=n.data,r=s.length;e<0&&(r=s.length,e=r+e);var i=s[e];if(i){var o=n.selectOptions[e],l=this.classes;return t?(o.disabled=!1,a["default"].removeClass(i,l.DISABLED)):(o.disabled=!0,a["default"].addClass(i,l.DISABLED)),[i,o]}console.warn("Flounder - No element to disable.")},disableByText:function d(e,t){if("string"!=typeof e&&e.length){var d=this.disableByText.bind(this),n=e.map(function(e){return d(e,t)});return 1===n.length?n[0]:n}var s=[];return this.refs.data.forEach(function(t,n){var r=t.innerHTML;r===e&&s.push(n)}),s=1===s.length?s[0]:s,this.disableByIndex(s,t)},disableByValue:function f(e,t){if("string"!=typeof e&&e.length){var f=this.disableByValue.bind(this),n=e.map(function(e){return f(e,t)});return 1===n.length?n[0]:n}var s=this.refs.selectOptions.map(function(t,n){return""+t.value==""+e?n:null}).filter(function(e){return!!e||0===e});return s=1===s.length?s[0]:s,this.disableByIndex(s,t)},enableByIndex:function(e){return this.disableByIndex(e,!0)},enableByText:function(e){return this.disableByText(e,!0)},enableByValue:function(e){this.disableByValue(e,!0)},getData:function(e){var t=this,n=this.refs;return"number"==typeof e?{option:n.selectOptions[e],div:n.data[e]}:e&&e.length&&"string"!=typeof e?e.map(function(e){return t.getData(e)}):e?void console.warn("Flounder - Illegal parameter type."):n.selectOptions.map(function(e,n){return t.getData(n)})},getSelected:function(){var e=this.refs.select,t=[],n=e.options,s=this.classes;return l.call(n).forEach(function(e){e.selected&&!a["default"].hasClass(e,s.PLACEHOLDER)&&t.push(e)}),t},getSelectedValues:function(){return this.getSelected().map(function(e){return e.value})},loadDataFromUrl:function(e,t){var n=this,s=this.classes;return a["default"].http.get(e).then(function(e){e?(n.data=JSON.parse(e),t&&t(n.data)):console.warn("no data recieved")})["catch"](function(e){console.warn("something happened: ",e),n.rebuild([{text:"",value:"",index:0,extraClass:s.LOADING_FAILED}])}),[{text:"",value:"",index:0,extraClass:s.LOADING}]},rebuild:function(e,t){if(t||!t&&("string"==typeof e||e&&"number"!=typeof e.length))return this.reconfigure(e,t);e=this.data=e||this.data,t=this.props;var n=this.refs,s=n.select;this.deselectAll(),this.removeOptionsListeners(),n.select.innerHTML="",n.select=!1,this.defaultObj=(0,o.setDefaultOption)(this,t,e,!0),n.optionsList.innerHTML="";var i=this.buildData(this.defaultObj,this.data,n.optionsList,s),a=r(i,3);return n.data=a[0],n.selectOptions=a[1],n.sections=a[2],n.select=s,this.addOptionsListeners(),this.data=e,this.displaySelected(n.selected,n),this},setByIndex:function h(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=this.refs;if("string"!=typeof e&&e.length){var h=this.setByIndex.bind(this);return e.map(function(e){return h(e,t,n)})}var r=this.data,i=r.length;e<0&&(i=r.length,e=i+e);var a=s.data[e];return a?(this.forceMultiple=t&&this.multiple,this.programmaticClick=n,a.click(),a):null},setByText:function p(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"!=typeof e&&e.length){var p=this.setByText.bind(this);return e.map(function(e){return p(e,t,n)})}var s=[];return e=""+e,this.refs.data.forEach(function(t,n){var r=t.innerHTML;r===e&&s.push(n)}),this.setByIndex(s,t,n)},setByValue:function v(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"!=typeof e&&e.length){var v=this.setByValue.bind(this);return e.map(function(e){return v(e,t,n)})}var s=this.refs.selectOptions.map(function(t,n){return""+t.value==""+e?n:null}).filter(function(e){return 0===e||!!e});return this.setByIndex(s,t,n)}};n["default"]=u},{"./defaults":15,"./utils":20}],13:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("./defaults"),a=e("./utils"),o=s(a),l=Array.prototype.slice,u={addOptionDescription:function(e,t){var n=document.createElement("div");n.innerHTML=t,n.className=this.classes.DESCRIPTION,e.appendChild(n)},addSearch:function(e){if(this.search){var t=this.classes,n=o["default"].constructElement({tagname:"input",type:"text",className:t.SEARCH,tabIndex:-1});return e.appendChild(n),n}return!1},bindThis:function(){var e=this;["addHoverClass","catchBodyClick","checkClickTarget","checkFlounderKeypress","checkMultiTagKeydown","clearPlaceholder","clickSet","divertTarget","displayMultipleTags","firstTouchController","fuzzySearch","removeHoverClass","removeMultiTag","setKeypress","setSelectValue","toggleList","toggleListSearchClick"].forEach(function(t){e[t]=e[t].bind(e),e[t].isBound=!0})},buildArrow:function(e,t){if(e.disableArrow)return!1;var n=this.classes,s=t({className:n.ARROW}),r=t({className:n.ARROW_INNER});return s.appendChild(r),s},buildData:function(e,t,n,s){function i(t,n){t.index=n;var s=n===e.index?"  "+v:"",r={className:T.OPTION+s,"data-index":n};for(var i in t)"text"!==i&&"description"!==i&&(r[i]=t[i]);var a=p(r);return a.innerHTML=C?t.text:g(t.text),t.description&&l.addOptionDescription(a,t.description,T.DESCRIPTION),a.className+=t.extraClass?"  "+t.extraClass:"",a.setAttribute("role","option"),a}function a(t,n){var r=void 0;if(E){var i=E.children[n];r=i,i.setAttribute("value",i.value),i.disabled===!0&&d[n]&&m(d[n],T.DISABLED),m(i,T.OPTION_TAG)}else{var a=t.extraClass||"",o=T.OPTION_TAG+"  "+a;r=p({tagname:"option",className:o.trim(),value:t.value});var l=g(t.text);r.innerHTML=l;var u=t.disabled;u&&r.setAttribute("disabled",u),s.appendChild(r)}return n===e.index&&(r.selected=!0),r.getAttribute("disabled")&&m(d[n],T.DISABLED),r}var l=this,u=0,c=0,d=[],f=[],h=[],p=o["default"].constructElement,v=this.selectedClass,g=o["default"].escapeHTML,m=o["default"].addClass,y=this.refs,E=y.select,C=this.allowHTML,T=this.classes;return t.forEach(function(e,s){if("object"!==("undefined"==typeof e?"undefined":r(e))&&(e=t[s]={text:e,value:e}),e.header){var l=p({tagname:"div",className:T.SECTION}),v=p({tagname:"div",className:T.HEADER});v.textContent=e.header,l.appendChild(v),n.appendChild(l);var g=e.data;g.forEach(function(e,t){"object"!==("undefined"==typeof e?"undefined":r(e))&&(e=g[t]={text:e,value:e}),d[u]=i(e,u),l.appendChild(d[u]),f[u]=a(e,u),u++}),0==g.length&&o["default"].addClass(l,T.HIDDEN),h[c]=l,c++}else d[u]=i(e,u),n.appendChild(d[u]),f[u]=a(e,u),u++}),[d,f,h]},buildDom:function(){var e=this.props,t=this.classes;this.refs={};var n=o["default"].constructElement,s=o["default"].constructElement({className:t.MAIN_WRAPPER}),r=t.MAIN,a=this.multipleTags?r+" "+t.MULTIPLE_TAG_FLOUNDER:r,l=n({className:a});l.setAttribute("aria-hidden",!0),l.tabIndex=0,s.appendChild(l);var u=this.initSelectBox(s);u.tabIndex=-1;var c=this.data;this.defaultObj=(0,i.setDefaultOption)(this,this.props,c);var d=this.defaultObj,f=n({className:t.SELECTED_DISPLAYED,"data-value":d.value,"data-index":d.index}),h=this.multipleTags?n({className:t.MULTI_TAG_LIST}):null,p=n({className:t.OPTIONS_WRAPPER+"  "+t.HIDDEN}),v=n({className:t.LIST});v.setAttribute("role","listbox"),p.appendChild(v),this.multiple===!0&&(u.setAttribute("multiple",""),v.setAttribute("aria-multiselectable","true"));var g=this.buildArrow(e,n);[f,h,p,g].forEach(function(e){e&&l.appendChild(e)});var m=this.addSearch(this.multipleTags?h:l),y=this.buildData(d,c,v,u);c=y[0];var E=y[1],C=y[2];if(this.target.appendChild(s),this.refs={wrapper:s,flounder:l,selected:f,arrow:g,optionsListWrapper:p,search:m,multiTagWrapper:h,optionsList:v,select:u,data:c,sections:C,selectOptions:E},this.multipleTags){var T=this.getSelected();0===T.length?f.innerHTML=d.text:this.displayMultipleTags(T,h)}else f.innerHTML=d.text},buildMultiTag:function(e){var t=this.classes,n=e.innerHTML,s=document.createElement("SPAN");s.className=t.MULTIPLE_SELECT_TAG,s.setAttribute("aria-label","Close"),s.setAttribute("tabindex",0);var r=document.createElement("A");return r.className=t.MULTIPLE_TAG_CLOSE,r.setAttribute("data-index",e.index),s.appendChild(r),s.innerHTML+=n,s},initSelectBox:function(e){var t=this.target,n=this.refs,s=n.select,r=this.classes;if("SELECT"===t.tagName){if(o["default"].addClass(t,r.SELECT_TAG),o["default"].addClass(t,r.HIDDEN),s=t,this.props.keepChangesOnDestroy||this.popOutSelectElements(s),t.length>0&&!this.selectDataOverride){this.refs.select=s;var i=[],a=[];l.call(t.children,0).forEach(function(e){a.push(e),i.push({text:e.innerHTML,value:e.value})}),n.selectOptions=a,this.data=i}else this.selectDataOverride&&o["default"].removeAllChildren(t);this.target=t.parentNode,o["default"].addClass(t,r.HIDDEN)}else s=o["default"].constructElement({tagname:"SELECT",className:r.SELECT_TAG+"  "+r.HIDDEN}),e.appendChild(s);return s},popInSelectElements:function(e){o["default"].removeAllChildren(e),this.originalChildren.forEach(function(t){e.appendChild(t)})},popOutSelectElements:function(e){var t=[];this.originalChildren=l.call(e.children,0);var n=this.originalChildren;n.forEach(function(n,s){t[s]=n.cloneNode(!0),e.removeChild(n)}),t.forEach(function(t){e.appendChild(t)})},reconfigure:function(e,t){return e&&"string"!=typeof e&&"number"==typeof e.length?(t=t=t||this.props,t.data=e):t||"object"!==("undefined"==typeof e?"undefined":r(e))?(t=t||{},t.data=t.data||this.data):(t=e,t.data=t.data||this.data),this.constructor(this.originalTarget,t)},setTarget:function(e){if(e=1===e.nodeType?e:document.querySelector(e),this.originalTarget=e,e.flounder=this,"INPUT"===e.tagName){var t=this.classes;o["default"].addClass(e,t.HIDDEN),e.setAttribute("aria-hidden",!0),e.tabIndex=-1,e=e.parentNode}this.target=e}};n["default"]=u},{"./defaults":15,"./utils":20}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s={ARROW:"flounder__arrow--wrapper",ARROW_INNER:"flounder__arrow--inner",DESCRIPTION:"flounder__option--description",DISABLED:"flounder__disabled",DISABLED_OPTION:"flounder__disabled--option",HEADER:"flounder__header",HIDDEN:"flounder--hidden",HIDDEN_IOS:"flounder--hidden--ios",HOVER:"flounder__hover",LIST:"flounder__list",LOADING:"flounder__loading",LOADING_FAILED:"flounder__loading--failed",MAIN:"flounder",MAIN_WRAPPER:"flounder--wrapper  flounder__input--select",MULTIPLE_TAG_FLOUNDER:"flounder--multiple",MULTI_TAG_LIST:"flounder__multi--tag--list",MULTIPLE_SELECT_TAG:"flounder__multiple--select--tag",MULTIPLE_TAG_CLOSE:"flounder__multiple__tag__close",NO_RESULTS:"flounder__no-results",OPEN:"open",OPTION:"flounder__option",OPTION_TAG:"flounder--option--tag",OPTIONS_WRAPPER:"flounder__list--wrapper",PLACEHOLDER:"flounder__placeholder",PLUG:"flounder__ios--plug",SECTION:"flounder__section",SELECTED:"flounder__option--selected",SELECTED_HIDDEN:"flounder__option--selected--hidden",SELECTED_DISPLAYED:"flounder__option--selected--displayed",SEARCH:"flounder__input--search",SEARCH_HIDDEN:"flounder--search--hidden",SELECT_TAG:"flounder--select--tag"};n["default"]=s},{}],15:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0}),n.setDefaultOption=n.defaultOptions=void 0;var r=e("./utils"),i=s(r),a=e("./classes"),o=s(a),l=n.defaultOptions={allowHTML:!1,classes:o["default"],data:[],defaultEmpty:!1,defaultIndex:!1,defaultValue:!1,disableArrow:!1,keepChangesOnDestroy:!1,multiple:!1,multipleTags:!1,multipleMessage:"(Multiple Items Selected)",noMoreOptionsMessage:"No more options to add.",noMoreResultsMessage:"No matches found",onChange:function(e,t){},onClose:function(e,t){},onComponentDidMount:function(){},onComponentWillUnmount:function(){},onFirstTouch:function(e){},onInit:function(){},onInputChange:function(e){},onOpen:function(e,t){},openOnHover:!1,placeholder:"Please choose an option",search:!1,selectDataOverride:!1},u={defaultOptions:l,setDefaultOption:function(e){function t(e,t){var n=t||0===t?t:a.defaultIndex,s=e[n];return s?(s.index=n,s):null}function n(e){var t=e.refs,n=e.classes,s=t.select,r=a.placeholder,u={text:r||""===r?r:l.placeholder,value:"",index:0,extraClass:n.HIDDEN+"  "+n.PLACEHOLDER};if(s){var c=e.allowHTML?u.text:i["default"].escapeHTML(u.text),d=i["default"].constructElement({tagname:"option",className:n.OPTION_TAG,value:u.value});d.innerHTML=c,s.insertBefore(d,s[0]),e.refs.selectOptions.unshift(d)}return o.unshift(u),u}function s(e,t){var n=t||""+a.defaultValue,s=void 0;e.forEach(function(e,t){var r=""+e.value;r===n&&(s=t)});var r=s>=0?e[s]:null;return r?(r.index=s,r):null}function r(){var r=e.sortData(o);!a.multipleTags&&!a.multiple||a.defaultIndex||a.defaultValue||(a.placeholder=a.placeholder||l.placeholder),a.defaultEmpty&&(a.placeholder="");var i=a.placeholder;if(i||""===i||0===r.length)return n(e,r);var c=void 0;if(u){var d=e.refs.selected.getAttribute("data-value");if(c=s(r,d))return c}return c=a.defaultIndex?t(r):null,c=!c&&a.defaultValue?s(r):c,c=c?c:t(r,0)}var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return o=o||a.data||[],r()}};n.setDefaultOption=u.setDefaultOption;n["default"]=u},{"./classes":14,"./utils":20}],16:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./utils"),i=s(r),a=e("./keycodes"),o=s(a),l=Array.prototype.slice,u={addFirstTouchListeners:function(){var e=this.refs;e.selected.addEventListener("click",this.firstTouchController),e.select.addEventListener("focus",this.firstTouchController),this.props.openOnHover&&e.wrapper.addEventListener("mouseenter",this.firstTouchController)},addHoverClass:function(e){i["default"].addClass(e.target,this.classes.HOVER)},addListeners:function(e){var t=this.isIos,n=t?"blur":"change";if(e.select.addEventListener(n,this.divertTarget),e.flounder.addEventListener("keydown",this.checkFlounderKeypress),this.props.openOnHover){var s=e.wrapper;s.addEventListener("mouseenter",this.toggleList),s.addEventListener("mouseleave",this.toggleList)}else e.selected.addEventListener("click",this.toggleList);this.addFirstTouchListeners(),this.addOptionsListeners(),this.search&&this.addSearchListeners()},addMultipleTags:function(e,t){var n=this;e.forEach(function(e){if(""!==e.value){var s=n.buildMultiTag(e);t.insertBefore(s,t.lastChild)}else e.selected=!1});var s=l.call(t.children,0,-1);s.forEach(function(e){var t=e.firstChild;t.addEventListener("click",n.removeMultiTag),e.addEventListener("keydown",n.checkMultiTagKeydown)})},addOptionsListeners:function(){var e=this;this.refs.data.forEach(function(t){"DIV"===t.tagName&&(t.addEventListener("mouseenter",e.addHoverClass),t.addEventListener("mouseleave",e.removeHoverClass),t.addEventListener("click",e.clickSet))})},addNoMoreOptionsMessage:function(){var e=this.classes,t={className:e.OPTION+"  "+e.NO_RESULTS},n=this.refs.noMoreOptionsEl||i["default"].constructElement(t);n.innerHTML=this.noMoreOptionsMessage,this.refs.optionsList.appendChild(n),this.refs.noMoreOptionsEl=n},addNoResultsMessage:function(){var e=this.classes,t={className:e.OPTION+"  "+e.NO_RESULTS},n=this.refs.noResultsEl||i["default"].constructElement(t);n.innerHTML=this.noMoreResultsMessage,this.refs.optionsList.appendChild(n),this.refs.noResultsEl=n},addPlaceholder:function(){var e=this.getSelectedValues(),t=e[0],n=this.getSelected(),s=n.length?n[0].innerHTML:"",r=e.length,i=this.refs.selected;switch(r){case 0:this.setByIndex(0);break;case 1:i.innerHTML=s;break;default:i.innerHTML=this.multipleMessage}this.multipleTags&&(0===r&&this.setByIndex(0),t&&""!==t?i.innerHTML="":i.innerHTML=this.placeholder)},addSearchListeners:function(){var e=this.refs.search,t=this.refs.multiTagWrapper;t&&t.addEventListener("click",this.toggleListSearchClick),e.addEventListener("click",this.toggleListSearchClick),e.addEventListener("focus",this.toggleListSearchClick),e.addEventListener("keyup",this.fuzzySearch),e.addEventListener("focus",this.clearPlaceholder)},addSelectKeyListener:function(){var e=this.refs.select;if(e.addEventListener("keyup",this.setSelectValue),e.addEventListener("keydown",this.setKeypress),this.isIos){var t=this.classes,n=e.children[0],s=document.createElement("OPTION");s.disabled=!0,s.setAttribute("disabled",!0),s.className=t.PLUG,e.insertBefore(s,n)}},catchBodyClick:function(e){this.checkClickTarget(e)||(this.toggleList(e),this.addPlaceholder())},checkClickTarget:function(e,t){return t=t||e.target,t!==document&&(t===this.refs.flounder||(t=t.parentNode,!!t&&this.checkClickTarget(e,t)))},checkEnterOnSearch:function(e,t){var n=e.target.value;if(n&&""!==n){var s=[],r=this.getSelected(),i=this.search.isThereAnythingRelatedTo(n);i.forEach(function(e){var n=e.i;e=t.selectOptions[n],r.indexOf(e)===-1&&s.push(e)});var a=-1;if(1===s.length)a=0;else if(s.length>1)for(var o=0;o<s.length;o++)if(s[o].text.toUpperCase()===n.toUpperCase()){a=o;break}if(a!=-1){var l=s[a];if(!l.disabled){this.setByIndex(l.index,this.multiple),this.multipleTags&&setTimeout(function(){return t.search.focus()},200);try{this.onChange(e,this.getSelectedValues())}catch(e){console.warn('something may be wrong in "onChange"',e)}}}return s}return!1},checkFlounderKeypress:function(e){var t=e.keyCode,n=this.refs,s=this.classes;if(t===o["default"].TAB){var r=n.optionsListWrapper,a=n.wrapper;this.addPlaceholder(),this.toggleClosed(e,r,n,a,!0)}else if(t===o["default"].ENTER||t===o["default"].SPACE){if(t===o["default"].ENTER&&(e.preventDefault(),e.stopPropagation(),this.search&&i["default"].hasClass(n.wrapper,s.OPEN)))return this.checkEnterOnSearch(e,n);"INPUT"!==e.target.tagName&&this.toggleList(e)}else(t>=48&&t<=57||t>=65&&t<=90)&&n.search&&"INPUT"===e.target.tagName&&(n.selected.innerHTML="")},checkMultiTagKeydown:function(e){function t(){setTimeout(function(){return r.search.focus()},0),s.clearPlaceholder(),s.toggleListSearchClick(e)}var n=e.keyCode,s=this,r=this.refs,i=l.call(r.multiTagWrapper.children,0,-1),a=e.target,u=i.indexOf(a);n===o["default"].LEFT||n===o["default"].RIGHT||n===o["default"].BACKSPACE?(e.preventDefault(),e.stopPropagation(),n===o["default"].BACKSPACE?s.checkMultiTagKeydownRemove(a,t,u):s.checkMultiTagKeydownNavigate(t,n,u)):e.key.length<2&&t()},checkMultiTagKeydownNavigate:function(e,t,n){var s=l.call(this.refs.multiTagWrapper.children,0,-1),r=t-38,i=n+r,a=s.length-1;i>a?e():i>=0&&setTimeout(function(){return s[i].focus()},0)},checkMultiTagKeydownRemove:function(e,t,n){var s=l.call(this.refs.multiTagWrapper.children,0,-1),r=s.length-1;e.firstChild.click(),r>0?setTimeout(function(){return s[0===n?0:n-1].focus()},0):t()},clearPlaceholder:function(){this.refs.selected.innerHTML=""},clickSet:function(e){e.preventDefault(),e.stopPropagation(),this.setSelectValue({},e),this.programmaticClick||this.toggleList(e,"close"),this.programmaticClick=!1},displayMultipleTags:function(e,t){var n=this,s=l.call(t.children,0,-1);s.forEach(function(e){var s=e.firstChild;s.removeEventListener("click",n.removeMultiTag),e.removeEventListener("keydown",n.checkMultiTagKeydown),t.removeChild(e)}),e.length>0?this.addMultipleTags(e,t):this.addPlaceholder()},displaySelected:function(e,t){var n=[],s=-1,r=this.getSelected(),i=r.length,a=this.multipleTags;if(e.className=this.classes.SELECTED_DISPLAYED,a||1!==i)if(a||0!==i)a?(e.innerHTML="",this.displayMultipleTags(r,t.multiTagWrapper)):e.innerHTML=this.multipleMessage,s=r.map(function(e){return e.index}),n=r.map(function(e){return e.value});else{var o=this.defaultObj;s=o.index||-1,e.innerHTML=o.text,n=o.value}else{s=r[0].index,e.innerHTML=t.data[s].innerHTML,n=r[0].value;var l=t.data[s].extraClass;e.className+=l?" "+l:""}e.setAttribute("data-value",n),e.setAttribute("data-index",s)},divertTarget:function(e){
if(this.isIos){var t=this.refs.select,n=this.classes,s=t.querySelector("."+n.PLUG);s&&t.removeChild(s)}var r=e.target.selectedIndex,i={type:e.type,target:this.data[r]};this.multipleTags&&(e.preventDefault(),e.stopPropagation()),this.setSelectValue(i),this.multiple||this.toggleList(e,"close")},firstTouchController:function(e){var t=this.refs;try{this.onFirstTouch(e)}catch(e){console.warn('something may be wrong in "onFirstTouch"',e)}t.selected.removeEventListener("click",this.firstTouchController),t.select.removeEventListener("focus",this.firstTouchController),this.props.openOnHover&&t.wrapper.removeEventListener("mouseenter",this.firstTouchController)},hideEmptySection:function(e){for(var t=this.selectedClass,n=this.refs.sections,s=0;s<n.length;++s)if(n[s]===e){for(var r=!0,a=1;a<e.childNodes.length;a++)if(!i["default"].hasClass(e.childNodes[a],t)){r=!1;break}r?i["default"].addClass(e,t):i["default"].removeClass(e,t);break}},removeHoverClass:function(e){i["default"].removeClass(e.target,this.classes.HOVER)},removeListeners:function(){var e=this.refs;this.removeOptionsListeners();var t=document.querySelector("html"),n=this.catchBodyClick;t.removeEventListener("click",n),t.removeEventListener("touchend",n);var s=e.select;s.removeEventListener("change",this.divertTarget),s.removeEventListener("blur",this.divertTarget),e.selected.removeEventListener("click",this.toggleList),e.flounder.removeEventListener("keydown",this.checkFlounderKeypress),this.search&&this.removeSearchListeners()},removeMultiTag:function(e){e.preventDefault(),e.stopPropagation();var t=void 0,n=void 0,s=this.classes,r=this.refs,a=r.select,o=r.selected,l=e.target,u=this.refs.data,c=l.getAttribute("data-index");a[c].selected=!1;var d=this.getSelected();i["default"].removeClass(u[c],s.SELECTED_HIDDEN),i["default"].removeClass(u[c],s.SELECTED),this.hideEmptySection(u[c].parentNode),l.removeEventListener("click",this.removeMultiTag);var f=l.parentNode;f.parentNode.removeChild(f),0===d.length?(this.addPlaceholder(),n=-1,t=""):(t=d.map(function(e){return e.value}),n=d.map(function(e){return e.index})),this.removeNoMoreOptionsMessage(),this.fuzzySearchReset(),o.setAttribute("data-value",t),o.setAttribute("data-index",n);try{this.onChange(e,this.getSelectedValues())}catch(e){console.warn('something may be wrong in "onChange"',e)}},removeOptionsListeners:function(){var e=this;this.refs.data.forEach(function(t){"DIV"===t.tagName&&(t.removeEventListener("click",e.clickSet),t.removeEventListener("mouseenter",e.addHoverClass),t.removeEventListener("mouseleave",e.removeHoverClass))})},removeNoMoreOptionsMessage:function(){var e=this.refs.noMoreOptionsEl;this.refs.optionsList&&e&&(this.refs.optionsList.removeChild(e),this.refs.noMoreOptionsEl=void 0)},removeNoResultsMessage:function(){var e=this.refs.noResultsEl;this.refs.optionsList&&e&&(this.refs.optionsList.removeChild(e),this.refs.noResultsEl=void 0)},removeSearchListeners:function(){var e=this.refs.search;e.removeEventListener("click",this.toggleListSearchClick),e.removeEventListener("focus",this.toggleListSearchClick),e.removeEventListener("keyup",this.fuzzySearch),e.removeEventListener("focus",this.clearPlaceholder)},removeSelectedClass:function(e,t){var n=this;e=e||this.refs.data,t=t||this.refs.sections,e.forEach(function(e){i["default"].removeClass(e,n.selectedClass)}),t.forEach(function(e){i["default"].removeClass(e,n.selectedClass)})},removeSelectedValue:function(e){e=e||this.refs.data;var t=this.refs.select.children;e.forEach(function(e,n){t[n].selected=!1})},removeSelectKeyListener:function(){var e=this.refs.select;e.removeEventListener("keyup",this.setSelectValue)},setKeypress:function(e){var t=this.refs,n=0,s=e.keyCode,r=o["default"].NON_CHARACTER_KEYS;if(r.indexOf(s)===-1){if(s===o["default"].TAB){var i=t.optionsListWrapper,a=t.wrapper;return this.addPlaceholder(),this.toggleClosed(e,i,t,a,!0),!1}return s===o["default"].ENTER||s===o["default"].ESCAPE||s===o["default"].SPACE?(this.toggleList(e),!1):(s!==o["default"].UP&&s!==o["default"].DOWN||(window.sidebar||(e.preventDefault(),t.search&&(t.search.value=""),n=s-39),this.setKeypressElement(e,n)),!0)}},setKeypressElement:function(e,t){var n=this.refs,s=n.select,r=n.data,a=r.length-1,o=s.selectedIndex+t;o>a?o=0:o<0&&(o=a);var l=this.classes,u=i["default"].hasClass,c=r[o];s.selectedIndex=o,(u(c,l.HIDDEN)||u(c,l.SELECTED_HIDDEN)||u(c,l.SEARCH_HIDDEN)||u(c,l.DISABLED))&&this.setKeypress(e)},setSelectValue:function(e,t){var n=this.refs,s=void 0;if(t?this.setSelectValueClick(t):(s=e.keyCode,this.setSelectValueButton(e)),this.displaySelected(n.selected,n),!this.programmaticClick){var r=[9,16,17,18,20,91];if(t||"blur"===e.type||!s&&"change"===e.type||s&&r.indexOf(s)===-1)if(this.toggleList.justOpened&&!t)this.toggleList.justOpened=!1;else try{this.onChange(t,this.getSelectedValues())}catch(t){console.warn("something may be wrong in onChange",t)}this.programmaticClick=!1}},setSelectValueButton:function(){var e=this.refs,t=e.data,n=this.selectedClass,s=void 0;if(this.multipleTags)return!1;this.removeSelectedClass(t);var r=this.getSelected(),a=r[0];a&&(s=t[a.index],i["default"].addClass(s,n),i["default"].scrollTo(s))},setSelectValueClick:function(e){var t=this.multiple,n=this.refs,s=this.selectedClass,r=e.target,a=r.getAttribute("data-index"),o=n.selectOptions[a];t&&(!t||this.multipleTags||e[this.multiSelect])||this.forceMultiple?(i["default"].toggleClass(r,s),o.selected=!o.selected):(this.deselectAll(),i["default"].addClass(r,s),o.selected=o.selected!==!0),this.forceMultiple=!1,this.hideEmptySection(r.parentNode);var l=n.selectOptions[0];""===l.value&&this.getSelected().length>1&&(i["default"].removeClass(n.data[0],s),n.selectOptions[0].selected=!1)},toggleClosed:function(e,t,n,s){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this.classes;i["default"].addClass(n.optionsListWrapper,a.HIDDEN),i["default"].removeClass(s,a.OPEN);var o=document.querySelector("html");if(o.removeEventListener("click",this.catchBodyClick),o.removeEventListener("touchend",this.catchBodyClick),this.search?this.fuzzySearchReset():this.removeSelectKeyListener(),r||setTimeout(function(){return n.flounder.focus()},0),this.ready)try{this.onClose(e,this.getSelectedValues())}catch(e){console.warn('something may be wrong in "onClose"',e)}},toggleList:function(e,t){var n=this.classes,s=this.refs,r=s.optionsListWrapper,a=s.wrapper,o=i["default"].hasClass(r,n.HIDDEN),l=e.type;"mouseleave"!==l&&"close"!==t&&o?("keydown"===l&&(this.toggleList.justOpened=!0),this.toggleOpen(e,r,s,a)):(this.toggleList.justOpened=!1,this.toggleClosed(e,r,s,a))},toggleListSearchClick:function(e){var t=this.classes;i["default"].hasClass(this.refs.wrapper,t.OPEN)||this.toggleList(e,"open")},toggleOpen:function(e,t,n){if(!this.isIos||this.search||this.multipleTags===!0){var s=this.classes;i["default"].removeClass(n.optionsListWrapper,s.HIDDEN),i["default"].addClass(n.wrapper,s.OPEN);var r=document.querySelector("html");r.addEventListener("click",this.catchBodyClick),r.addEventListener("touchend",this.catchBodyClick)}if(!this.multipleTags){var a=n.select.selectedIndex,o=n.data[a];i["default"].scrollTo(o)}this.search?setTimeout(function(){return n.search.focus()},0):(this.addSelectKeyListener(),setTimeout(function(){return n.select.focus()},0));var u=n.data.length;if(this.props.placeholder&&u--,n.multiTagWrapper){var c=l.call(n.multiTagWrapper.children,0,-1);c.length===u&&(this.removeNoResultsMessage(),this.addNoMoreOptionsMessage())}if(this.ready)try{this.onOpen(e,this.getSelectedValues())}catch(e){console.warn('something may be wrong in "onOpen"',e)}}};n["default"]=u},{"./keycodes":18,"./utils":20}],17:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),l=e("./defaults"),u=e("./utils"),c=s(u),d=e("./api"),f=s(d),h=e("./build"),p=s(h),v=e("./events"),g=s(v),m=e("./search"),y=s(m),E=e("./version"),C=s(E),T=e("./keycodes"),L=s(T),S=Array.prototype.slice,b=function(){function e(t,n){if(i(this,e),t){if("string"==typeof t&&(t=document.querySelectorAll(t)),(t.length||0===t.length)&&"SELECT"!==t.tagName){if(t.length>1)console.warn("Flounder - More than one element found.\n                                                Dropping all but the first.");else if(0===t.length)throw"Flounder - No target element found.";t=t[0]}return t.flounder&&t.flounder.destroy(),this.init(t,n)}console.warn("Flounder - No target element found.")}return o(e,[{key:"componentWillUnmount",value:function(){try{this.onComponentWillUnmount()}catch(e){console.warn('something may be wrong in\n                                        "onComponentWillUnmount"',e)}this.removeListeners(),this.originalChildren&&this.popInSelectElements(this.refs.select)}}]),o(e,[{key:"filterSearchResults",value:function(e){var t=e.target.value.trim();this.fuzzySearch.previousValue=t;var n=this.search.isThereAnythingRelatedTo(t)||[];if(""!==t){var s=this.refs.data,r=this.refs.sections,i=this.classes;s.forEach(function(e){c["default"].addClass(e,i.SEARCH_HIDDEN)}),r.forEach(function(e){c["default"].addClass(e,i.SEARCH_HIDDEN)}),n.forEach(function(e){c["default"].removeClass(s[e.i],i.SEARCH_HIDDEN),"number"==typeof e.d.s&&c["default"].removeClass(r[e.d.s],i.SEARCH_HIDDEN)}),this.refs.noMoreOptionsEl||(0===n.length?this.addNoResultsMessage():this.removeNoResultsMessage())}else this.fuzzySearchReset()}},{key:"fuzzySearch",value:function(e){this.fuzzySearch.previousValue=this.fuzzySearch.previousValue||"";try{this.onInputChange(e)}catch(e){console.warn('something may be wrong in "onInputChange"',e)}if(this.toggleList.justOpened)this.toggleList.justOpened=!1;else{e.preventDefault();var t=e.keyCode;if(t!==L["default"].UP&&t!==L["default"].DOWN&&t!==L["default"].ENTER&&t!==L["default"].ESCAPE)if(this.multipleTags&&t===L["default"].BACKSPACE&&""===this.fuzzySearch.previousValue){var n=S.call(this.refs.multiTagWrapper.children,0,-1).pop();n&&setTimeout(function(){return n.focus()},0)}else this.filterSearchResults(e);else t!==L["default"].ESCAPE&&t!==L["default"].ENTER||(this.fuzzySearchReset(),this.toggleList(e,"close"),this.addPlaceholder())}}},{key:"fuzzySearchReset",value:function(){var e=this.refs,t=this.classes;e.sections.forEach(function(e){c["default"].removeClass(e,t.SEARCH_HIDDEN)}),e.data.forEach(function(e){c["default"].removeClass(e,t.SEARCH_HIDDEN)}),e.search.value="",this.removeNoResultsMessage()}},{key:"init",value:function(e,t){this.props=t,this.bindThis(),this.initializeOptions(),this.setTarget(e),this.search&&(this.search=new y["default"](this));try{this.onInit()}catch(n){console.warn('something may be wrong in "onInit"',n)}this.buildDom();var s=c["default"].setPlatform(),r=s.isOsx,i=s.isIos,a=s.multiSelect;this.isOsx=r,this.isIos=i,this.multiSelect=a,this.onRender();try{this.onComponentDidMount()}catch(n){console.warn("something may be wrong in onComponentDidMount",n)}return this.ready=!0,this.originalTarget.flounder=this.target.flounder=this,this.refs.flounder.flounder=this}},{key:"initializeOptions",value:function(){var e=this.props=this.props||{};for(var t in l.defaultOptions)if("onChange"===t&&e.onSelect)this.onChange=e.onSelect,console.warn("Please use onChange.  onSelect has been\n                                    depricated and will be removed in 2.0.0"),this.onSelect=function(){console.warn("Please use onChange. onSelect has been\n                                    depricated and will be removed in 2.0.0"),this.onChange.apply(this,arguments)};else if("classes"===t){this.classes={};var n=l.defaultOptions[t],s="object"===a(e[t])?e[t]:{};for(var i in n)this.classes[i]=s[i]?s[i]:n[i]}else"data"===t?this.data=e.data&&e.data.length?[].concat(r(e.data)):[].concat(r(l.defaultOptions.data)):this[t]=void 0!==e[t]?e[t]:l.defaultOptions[t];this.selectedClass=this.classes.SELECTED,e.defaultEmpty&&(this.placeholder=""),this.multipleTags&&(this.search=!0,this.multiple=!0,this.selectedClass+="  "+this.classes.SELECTED_HIDDEN)}},{key:"onRender",value:function(){var e=this.props,t=this.refs;if(this.isIos&&!this.multiple){var n=t.select,s=this.classes;c["default"].removeClass(n,s.HIDDEN),c["default"].addClass(n,s.HIDDEN_IOS)}this.addListeners(t,e)}},{key:"sortData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=0;return e.forEach(function(e){e.header?(t=n.sortData(e.data,t,s,i),i++):("object"!==("undefined"==typeof e?"undefined":a(e))?e={text:e,value:e,index:s}:e.index=s,void 0!==r&&(e.s=r),t.push(e),s++)}),t}}]),e}();b.find=function(e,t){return"string"==typeof e?e=document.querySelectorAll(e):1===e.nodeType&&(e=[e]),Array.prototype.slice.call(e,0).map(function(e){return new b(e,t)})},Object.defineProperty(b,"version",{get:function(){return C["default"]}}),Object.defineProperty(b.prototype,"version",{get:function(){return C["default"]}}),c["default"].extendClass(b,f["default"],p["default"],g["default"]),n["default"]=b},{"./api":12,"./build":13,"./defaults":15,"./events":16,"./keycodes":18,"./search":19,"./utils":20,"./version":21}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s={BACKSPACE:8,DOWN:40,ENTER:13,ESCAPE:27,LEFT:37,RIGHT:39,SPACE:32,TAB:9,UP:38,NON_CHARACTER_KEYS:[16,17,18,20,91,93]};n["default"]=s},{}],19:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),i=n.defaults={minimumValueLength:1,minimumScore:0,scoreProperties:["text","textFlat","textSplit","value","valueFlat","valueSplit","description","descriptionSplit"],startsWithProperties:["text","value"],weights:{text:30,textStartsWith:50,textFlat:10,textSplit:10,value:30,valueStartsWith:50,valueFlat:10,valueSplit:10,description:15,descriptionSplit:30}},a=n.Sole=function(){function e(t){return s(this,e),this.flounder=t,this.getResultWeights=this.getResultWeights.bind(this),this.getResultWeights.bound=!0,this.scoreThis=this.scoreThis.bind(this),this.scoreThis.bound=!0,this}return r(e,[{key:"compareScoreCards",value:function(e,t){return e&&e.score&&t&&t.score?(e=e.score,t=t.score,e>t?1:e<t?-1:0):null}}]),r(e,[{key:"escapeRegExp",value:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"getResultWeights",value:function(e,t){var n=this,s=0,r={i:t,d:e},a=e.search=e.search||{},o=i.weights,l=""+e.text,u=""+e.value;return a.text=l,a.textFlat=l.toLowerCase(),a.textSplit=a.textFlat.split(" "),a.value=u,a.valueFlat=u.toLowerCase(),a.valueSplit=a.valueFlat.split(" "),a.description=e.description?e.description.toLowerCase():null,a.descriptionSplit=e.description?a.description.split(" "):null,i.scoreProperties.forEach(function(e){s+=n.scoreThis(a[e],o[e])}),i.startsWithProperties.forEach(function(e){s+=n.startsWith(n.query,a[e],o[e+"StartsWith"])}),r.score=s,r}},{key:"isItemAboveMinimum",value:function(e){return e.score>=i.minimumScore}},{key:"isThereAnythingRelatedTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=void 0;if(e=e.length?e:""+e,!(e.length>=i.minimumValueLength))return!1;this.query=e.toLowerCase().split(" ");var n=this.flounder.data;return n=this.flounder.sortData(n),t=this.ratedRes=n.map(this.getResultWeights),t=t.filter(this.isItemAboveMinimum),t.sort(this.compareScoreCards),this.ratedRes=t}},{key:"startsWith",value:function(e,t,n){var s=t.length,r=e.length;if(r<=s){var i=t.toLowerCase().slice(0,r);if(i===e)return n}return 0}},{key:"scoreThis",value:function(e,t,n){var s=this,r=0;return e&&this.query.forEach(function(i){i=s.escapeRegExp(i);var a=0;"string"==typeof e?(i=new RegExp(i,"g"),a=(e.match(i)||[]).length):e[0]?e.forEach(function(e){a+=e.indexOf(i)!==-1?1:0}):a=e[i]||1e-6,a>0?r=t*a*10:n!==!0&&(r=-t)}),Math.floor(r)}}]),e}();n["default"]=a},{}],20:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("microbejs/src/modules/http"),i=s(r),a={addClass:function(e,t){if("string"!=typeof t&&t.length)return t.forEach(function(t){a.addClass(e,t)}),!0;var n=e.className,s=n.length,r=n.slice(s-t.length-1,s);a.hasClass(e,t)||n.slice(0,t.length+1)===t+" "||r===" "+t||(n+="  "+t),e.className=n.trim()},attachAttributes:function(e,t){if(!t)return null;for(var n in t)"data-"===n.slice(0,5)?e.setAttribute(n,t[n]):e[n]=t[n]},constructElement:function(e){var t=document.createElement(e.tagname||"div");return a.attachAttributes(t,e),t},extendClass:function(e){function t(t){for(var n in t)e[n]=t[n]}e=e.prototype;for(var n=arguments.length,s=Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];for(var i=0,a=s.length;i<a;i++){var o=s[i];t(o)}return e},escapeHTML:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},getElWidth:function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1500,r=window.getComputedStyle(e);if(0===e.offsetWidth&&this.checkWidthAgain!==!0){if(!t||!n)throw"Flounder getElWidth error: no callback given.";setTimeout(t.bind(n),s),this.checkWidthAgain=!0}else this.checkWidthAgain=!1;return e.offsetWidth+parseInt(r["margin-left"])+parseInt(r["margin-right"])},hasClass:function(e,t){var n=e.className,s=new RegExp("(^"+t+" )|( "+t+"$)|( "+t+" )|(^"+t+"$)");return!!n.match(s)},http:!1,iosVersion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return!!/iPad|iPhone|iPod/.test(e.navigator.platform)&&(e.indexedDB?"8+":e.SpeechSynthesisUtterance?"7":e.webkitAudioContext?"6":"5-")},removeAllChildren:function(e){Array.prototype.slice.call(e.children,0).forEach(function(t){e.removeChild(t)})},removeClass:function(e,t){if("string"!=typeof t&&t.length)return t.forEach(function(t){a.removeClass(e,t)}),!0;var n=e.className,s=n.length,r=t.length;n===t?n="":n.slice(0,r+1)===t+" "?n=n.slice(r+1,s):n.slice(s-r-1,s)===" "+t?n=n.slice(0,s-r-1):n.indexOf(" "+t+" ")!==-1&&(n=n.replace(" "+t+" "," ")),e.className=n.trim()},scrollTo:function(e){if(!e)return!1;var t=e.parentNode.parentNode,n=e.offsetHeight,s=t.scrollTop,r=t.scrollTop+t.offsetHeight-n,i=e.offsetTop;i<s?t.scrollTop=i-.5*n:i>r&&(t.scrollTop=i-t.offsetHeight+1.5*n)},setPlatform:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=e.navigator.platform,n=t.indexOf("Mac")!==-1,s=a.iosVersion(e),r=n?"metaKey":"ctrlKey";return{isOsx:n,isIos:s,multiSelect:r}},toggleClass:function(e,t){a.hasClass(e,t)?a.removeClass(e,t):a.addClass(e,t)}};(0,i["default"])(a),n["default"]=a},{"microbejs/src/modules/http":3}],21:[function(e,t,n){"use strict";t.exports="1.2.3"},{}],22:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var r=e("../core/flounder"),i=s(r);define("flounder",[],function(){return i["default"]})},{"../core/flounder":17}]},{},[22]);